{"version":3,"file":"ProdPlanCheck-CBat1ClY.js","sources":["../../../client/src/pages/prodPlan/ProdPlanCheck.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden\">\r\n    <!-- 상단 타이틀 -->\r\n    <div class=\"mb-3\">\r\n      <h1 class=\"text-2xl font-bold text-gray-800\">생산계획 조회</h1>\r\n    </div>\r\n\r\n    <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\" style=\"height: calc(100% - 60px);\">\r\n      \r\n      <!-- 검색 영역 -->\r\n      <div class=\"mb-4 p-3 bg-gray-50 rounded-lg\">\r\n        <div class=\"grid grid-cols-5 gap-3 mb-3\">\r\n          <!-- 계획번호 검색 -->\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">계획번호</label>\r\n            <input \r\n              v-model=\"searchParams.plan_id\"\r\n              @keypress.enter=\"searchPlans\"\r\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n              placeholder=\"계획번호 검색\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 계획명 검색 -->\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">계획명</label>\r\n            <input \r\n              v-model=\"searchParams.plan_name\"\r\n              @keypress.enter=\"searchPlans\"\r\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n              placeholder=\"계획명 검색\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 제품명 검색 -->\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">제품명</label>\r\n            <input \r\n              v-model=\"searchParams.product_name\"\r\n              @keypress.enter=\"searchPlans\"\r\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n              placeholder=\"제품명 검색\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 작성일 시작 -->\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">시작예정일</label>\r\n            <input \r\n              v-model=\"searchParams.start_date\"\r\n              type=\"date\"\r\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n\r\n          <!-- 작성일 종료 -->\r\n          <div>\r\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\">종료예정일</label>\r\n            <input \r\n              v-model=\"searchParams.end_date\"\r\n              type=\"date\"\r\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 검색 버튼 -->\r\n        <div class=\"flex gap-2 justify-center\">\r\n          <button \r\n            @click=\"searchPlans\"\r\n            class=\"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium\"\r\n            :disabled=\"loading\"\r\n          >\r\n            <span v-if=\"loading\">검색중...</span>\r\n            <span v-else>검색</span>\r\n          </button>\r\n          <button \r\n            @click=\"resetSearch\"\r\n            class=\"px-4 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium\"\r\n          >\r\n            초기화\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 결과 개수 -->\r\n      <div class=\"mb-3 flex justify-between items-center\">\r\n        <div class=\"text-sm text-gray-600\">\r\n          총 <span class=\"font-semibold text-blue-600\">{{ planList.length }}</span>건\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 생산계획 목록 테이블 -->\r\n      <div class=\"flex-1 overflow-auto border border-gray-200 rounded\" style=\"height: calc(100% - 200px);\">\r\n        <table class=\"w-full text-xs border-collapse bg-white\">\r\n          <thead class=\"bg-gray-50 sticky top-0\">\r\n            <tr>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[120px]\">계획번호</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[150px]\">계획명</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[300px]\">제품정보</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[80px]\">총수량</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\">작성일</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\">시작예정일</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\">종료예정일</th>\r\n              <th class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[80px]\">작성자</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-if=\"loading\">\r\n              <td colspan=\"8\" class=\"text-center text-gray-500 py-8\">\r\n                검색중입니다...\r\n              </td>\r\n            </tr>\r\n            <tr v-else-if=\"planList.length === 0\">\r\n              <td colspan=\"8\" class=\"text-center text-gray-500 py-8\">\r\n                조회된 생산계획이 없습니다.\r\n              </td>\r\n            </tr>\r\n            <tr \r\n              v-else \r\n              v-for=\"(plan, index) in planList\" \r\n              :key=\"plan.plan_id\" \r\n              class=\"hover:bg-blue-50 cursor-pointer\"\r\n              @dblclick=\"viewPlanDetail(plan)\"\r\n            >\r\n              <td class=\"border border-gray-200 px-3 py-2\">{{ plan.plan_id }}</td>\r\n              <td class=\"border border-gray-200 px-3 py-2\">{{ plan.plan_name }}</td>\r\n              <td class=\"border border-gray-200 px-3 py-2\">\r\n                <span class=\"text-blue-700 font-medium\">{{ plan.product_summary }}</span>\r\n              </td>\r\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">\r\n                <span class=\"font-semibold\">{{ formatNumber(plan.total_qty) }}</span>\r\n              </td>\r\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">{{ formatDate(plan.plan_reg_dt) }}</td>\r\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">{{ formatDate(plan.plan_start_dt) }}</td>\r\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">{{ formatDate(plan.plan_end_dt) }}</td>\r\n              <td class=\"border border-gray-200 px-3 py-2\">{{ plan.writer_name }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 상세보기 모달 -->\r\n    <PlanDetailModal \r\n      v-if=\"showDetailModal\"\r\n      :plan-id=\"selectedPlanId\"\r\n      @close=\"showDetailModal = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios'\r\n\r\n// 모달 컴포넌트 (필요시 생성)\r\n// import PlanDetailModal from './PlanDetailModal.vue'\r\n\r\n// 상태 관리\r\nconst loading = ref(false)\r\nconst planList = ref([])\r\nconst showDetailModal = ref(false)\r\nconst selectedPlanId = ref('')\r\n\r\n// 검색 파라미터\r\nconst searchParams = ref({\r\n  plan_id: '',\r\n  plan_name: '',\r\n  product_name: '',\r\n  start_date: '',\r\n  end_date: ''\r\n})\r\n\r\n// 메서드들\r\nconst searchPlans = async () => {\r\n  loading.value = true\r\n  try {\r\n    // 모든 검색 조건이 비어있으면 빈 파라미터로 전체 조회\r\n    const params = new URLSearchParams()\r\n    Object.keys(searchParams.value).forEach(key => {\r\n      if (searchParams.value[key]) {\r\n        params.append(key, searchParams.value[key])\r\n      }\r\n    })\r\n    \r\n    // 검색 조건이 없어도 전체 조회\r\n    const response = await axios.get(`/prodPlan/integrated/list?${params.toString()}`)\r\n    planList.value = response.data || []\r\n  } catch (err) {\r\n    alert('생산계획 조회에 실패했습니다.')\r\n    planList.value = []\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst resetSearch = () => {\r\n  searchParams.value = {\r\n    plan_id: '',\r\n    plan_name: '',\r\n    product_name: '',\r\n    start_date: '',\r\n    end_date: ''\r\n  }\r\n  planList.value = []\r\n}\r\n\r\nconst viewPlanDetail = (plan) => {\r\n  selectedPlanId.value = plan.plan_id\r\n  showDetailModal.value = true\r\n}\r\n\r\n// 유틸리티 함수들\r\nconst formatDate = (dateString) => {\r\n  if (!dateString) return ''\r\n  const date = new Date(dateString)\r\n  return date.toLocaleDateString('ko-KR', {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit'\r\n  })\r\n}\r\n\r\nconst formatNumber = (number) => {\r\n  if (!number && number !== 0) return ''\r\n  return number.toLocaleString()\r\n}\r\n\r\n// 컴포넌트 마운트 시 전체 목록 조회 (검색조건 없이)\r\nonMounted(() => {\r\n  searchPlans() // 빈 검색조건으로 전체 조회\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* 테이블 스크롤바 스타일링 */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: #f8fafc;\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: #cbd5e1;\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #94a3b8;\r\n}\r\n\r\n/* 테이블 행 hover 효과 */\r\ntbody tr:hover {\r\n  background-color: #eff6ff !important;\r\n}\r\n\r\n/* 입력 필드 포커스 효과 */\r\ninput:focus {\r\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\r\n}\r\n\r\n/* 버튼 트랜지션 */\r\nbutton {\r\n  transition: all 0.15s ease-in-out;\r\n}\r\n</style>"],"names":["loading","ref","planList","showDetailModal","selectedPlanId","searchParams","searchPlans","params","key","response","axios","resetSearch","viewPlanDetail","plan","formatDate","dateString","formatNumber","number","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","_vModelText","_hoisted_5","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_renderList","index","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_createBlock","_component_PlanDetailModal"],"mappings":"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"}