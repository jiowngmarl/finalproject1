import{d as F,n as b,o as N,p as L,i as s,j as o,g as i,w as p,v as P,h as q,m as g,t as B,_ as I}from"./index-DTBJ0DMA.js";const T={class:"order-search-page"},Y={class:"search-section"},$={class:"search-form"},A={class:"button-group"},S={class:"result-section"},j={class:"table-wrapper"},V=5,E=F({__name:"deliveryCheckPage",setup(z){const l=b({outbound_id:"",material_code:"",material_name:"",material_unit:"",material_cls:"",outbound_date:null,outbound_qty:"",lot_number:""}),r=b([]),m=b([]),_=b(1),y=a=>{if(!a)return"";const e=typeof a=="string"?new Date(a):a;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},f=[{key:"outbound_id",label:"발주코드"},{key:"material_code",label:"자재코드"},{key:"material_name",label:"자재명"},{key:"material_unit",label:"단위"},{key:"material_cls",label:"분류"},{key:"outbound_date",label:"출고 일자"},{key:"outbound_qty",label:"출고 수량"},{key:"lot_number",label:"LOT 번호"}],k=async()=>{try{const a=await P.get("/deliveryCheck");m.value=Array.isArray(a.data)?a.data:[],r.value=[...m.value],console.log("allOrders: ",a.data),console.log("order: ",r.value)}catch(a){console.error("계획 조회 실패",a),m.value=[]}};function h(a,e){return a.getFullYear()===e.getFullYear()&&a.getMonth()===e.getMonth()&&a.getDate()===e.getDate()}function D(){const{outbound_id:a,material_code:e,material_name:n,outbound_date:c,material_cls:d,lot_number:v}=l.value;r.value=m.value.filter(u=>{const t=!a||u.outbound_id.includes(a),C=!e||u.material_code.includes(e),w=!n||u.material_name.includes(n),x=!d||u.material_cls.includes(d),O=!v||u.lot_number.includes(v),U=!c||h(new Date(u.outbound_date),new Date(c));return t&&C&&w&&x&&U&&O}),_.value=1}function M(){l.value={outbound_id:"",material_code:"",material_name:"",material_unit:"",material_cls:"",outbound_date:null,outbound_qty:"",lot_number:""}}return N(()=>{k()}),(a,e)=>{const n=i("va-input"),c=i("va-date-input"),d=i("va-button"),v=i("va-data-table"),u=i("va-pagination");return q(),L("div",T,[s("div",Y,[e[9]||(e[9]=s("h3",{class:"section-title"},"출고 조회",-1)),s("div",$,[o(n,{modelValue:l.value.outbound_id,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.outbound_id=t),label:"출고코드"},null,8,["modelValue"]),o(c,{modelValue:l.value.outbound_date,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.outbound_date=t),label:"출고일자","manual-input":!1,clearable:!0},null,8,["modelValue"]),o(n,{modelValue:l.value.material_code,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.material_code=t),label:"자재코드"},null,8,["modelValue"]),o(n,{modelValue:l.value.material_name,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.material_name=t),label:"자재명"},null,8,["modelValue"]),o(n,{modelValue:l.value.material_cls,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.material_cls=t),label:"분류"},null,8,["modelValue"]),o(n,{modelValue:l.value.lot_number,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.lot_number=t),label:"LOT번호"},null,8,["modelValue"]),s("div",A,[o(d,{onClick:D},{default:p(()=>e[7]||(e[7]=[g("조회")])),_:1,__:[7]}),o(d,{color:"secondary",onClick:M},{default:p(()=>e[8]||(e[8]=[g("초기화")])),_:1,__:[8]})])])]),s("div",S,[e[10]||(e[10]=s("h3",{class:"section-title"},"출고 리스트",-1)),s("div",j,[o(v,{items:r.value,columns:f,"per-page":V,"current-page":_.value},{"cell(outbound_date)":p(({row:t})=>[g(B(y(t.source.outbound_date)),1)]),_:1},8,["items","current-page"]),o(u,{modelValue:_.value,"onUpdate:modelValue":e[6]||(e[6]=t=>_.value=t),pages:Math.max(1,Math.ceil(r.value.length/V)),class:"mt-2"},null,8,["modelValue","pages"])])])])}}}),H=I(E,[["__scopeId","data-v-6caf6926"]]);export{H as default};
//# sourceMappingURL=deliveryCheckPage-De-T-Fsi.js.map
