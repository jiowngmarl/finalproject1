{"version":3,"file":"ProdPlanCheck-DwXa7GvE.js","sources":["../../../client/src/pages/prodPlan/ProdPlanCheck.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden\">\n    <!-- 상단 타이틀 -->\n    <div class=\"mb-3\">\n      <h1 class=\"text-2xl font-bold text-gray-800\">생산계획 조회</h1>\n    </div>\n\n    <div\n      class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\"\n      style=\"height: calc(100% - 60px)\"\n    >\n      <!-- 검색 영역 -->\n      <div class=\"mb-4 p-3 bg-gray-50 rounded-lg\">\n        <div class=\"grid grid-cols-5 gap-3 mb-3\">\n          <!-- 계획번호 검색 -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\"\n              >계획번호</label\n            >\n            <input\n              v-model=\"searchParams.plan_id\"\n              @keypress.enter=\"searchPlans\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              placeholder=\"계획번호 검색\"\n            />\n          </div>\n\n          <!-- 계획명 검색 -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\"\n              >계획명</label\n            >\n            <input\n              v-model=\"searchParams.plan_name\"\n              @keypress.enter=\"searchPlans\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              placeholder=\"계획명 검색\"\n            />\n          </div>\n\n          <!-- 제품명 검색 -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\"\n              >제품명</label\n            >\n            <input\n              v-model=\"searchParams.product_name\"\n              @keypress.enter=\"searchPlans\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n              placeholder=\"제품명 검색\"\n            />\n          </div>\n\n          <!-- 작성일 시작 -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\"\n              >시작예정일</label\n            >\n            <input\n              v-model=\"searchParams.start_date\"\n              type=\"date\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n\n          <!-- 작성일 종료 -->\n          <div>\n            <label class=\"block text-xs font-medium text-gray-700 mb-1\"\n              >종료예정일</label\n            >\n            <input\n              v-model=\"searchParams.end_date\"\n              type=\"date\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        <!-- 검색 버튼 -->\n        <div class=\"flex gap-2 justify-center\">\n          <button\n            @click=\"searchPlans\"\n            class=\"px-4 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium\"\n            :disabled=\"loading\"\n          >\n            <span v-if=\"loading\">검색중...</span>\n            <span v-else>검색</span>\n          </button>\n          <button\n            @click=\"resetSearch\"\n            class=\"px-4 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium\"\n          >\n            초기화\n          </button>\n        </div>\n      </div>\n\n      <!-- 결과 개수 -->\n      <div class=\"mb-3 flex justify-between items-center\">\n        <div class=\"text-sm text-gray-600\">\n          총\n          <span class=\"font-semibold text-blue-600\">{{ planList.length }}</span\n          >건\n        </div>\n      </div>\n\n      <!-- 생산계획 목록 테이블 -->\n      <div\n        class=\"flex-1 overflow-auto border border-gray-200 rounded\"\n        style=\"height: calc(100% - 200px)\"\n      >\n        <table class=\"w-full text-xs border-collapse bg-white\">\n          <thead class=\"bg-gray-50 sticky top-0\">\n            <tr>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[120px]\"\n              >\n                계획번호\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[150px]\"\n              >\n                계획명\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[300px]\"\n              >\n                제품정보\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[80px]\"\n              >\n                총수량\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\"\n              >\n                작성일\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\"\n              >\n                시작예정일\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700 min-w-[100px]\"\n              >\n                종료예정일\n              </th>\n              <th\n                class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 min-w-[80px]\"\n              >\n                작성자\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-if=\"loading\">\n              <td colspan=\"8\" class=\"text-center text-gray-500 py-8\">\n                검색중입니다...\n              </td>\n            </tr>\n            <tr v-else-if=\"planList.length === 0\">\n              <td colspan=\"8\" class=\"text-center text-gray-500 py-8\">\n                조회된 생산계획이 없습니다.\n              </td>\n            </tr>\n            <tr\n              v-else\n              v-for=\"(plan, index) in planList\"\n              :key=\"plan.plan_id\"\n              class=\"hover:bg-blue-50 cursor-pointer\"\n              @dblclick=\"viewPlanDetail(plan)\"\n            >\n              <td class=\"border border-gray-200 px-3 py-2\">\n                {{ plan.plan_id }}\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2\">\n                {{ plan.plan_name }}\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2\">\n                <span class=\"text-blue-700 font-medium\">{{\n                  plan.product_summary\n                }}</span>\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">\n                <span class=\"font-semibold\">{{\n                  formatNumber(plan.total_qty)\n                }}</span>\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">\n                {{ formatDate(plan.plan_reg_dt) }}\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">\n                {{ formatDate(plan.plan_start_dt) }}\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2 text-center\">\n                {{ formatDate(plan.plan_end_dt) }}\n              </td>\n              <td class=\"border border-gray-200 px-3 py-2\">\n                {{ plan.writer_name }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n    <!-- 상세보기 모달 -->\n    <PlanDetailModal\n      v-if=\"showDetailModal\"\n      :plan-id=\"selectedPlanId\"\n      @close=\"showDetailModal = false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n\n// 모달 컴포넌트 (필요시 생성)\n// import PlanDetailModal from './PlanDetailModal.vue'\n\n// 상태 관리\nconst loading = ref(false);\nconst planList = ref([]);\nconst showDetailModal = ref(false);\nconst selectedPlanId = ref(\"\");\n\n// 검색 파라미터\nconst searchParams = ref({\n  plan_id: \"\",\n  plan_name: \"\",\n  product_name: \"\",\n  start_date: \"\",\n  end_date: \"\",\n});\n\n// 메서드들\nconst searchPlans = async () => {\n  loading.value = true;\n  try {\n    // 모든 검색 조건이 비어있으면 빈 파라미터로 전체 조회\n    const params = new URLSearchParams();\n    Object.keys(searchParams.value).forEach((key) => {\n      if (searchParams.value[key]) {\n        params.append(key, searchParams.value[key]);\n      }\n    });\n\n    // 검색 조건이 없어도 전체 조회\n    const response = await axios.get(\n      `/prodPlan/integrated/list?${params.toString()}`,\n    );\n    planList.value = response.data || [];\n  } catch (err) {\n    alert(\"생산계획 조회에 실패했습니다.\");\n    planList.value = [];\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst resetSearch = () => {\n  searchParams.value = {\n    plan_id: \"\",\n    plan_name: \"\",\n    product_name: \"\",\n    start_date: \"\",\n    end_date: \"\",\n  };\n  planList.value = [];\n};\n\nconst viewPlanDetail = (plan) => {\n  selectedPlanId.value = plan.plan_id;\n  showDetailModal.value = true;\n};\n\n// 유틸리티 함수들\nconst formatDate = (dateString) => {\n  if (!dateString) return \"\";\n  const date = new Date(dateString);\n  return date.toLocaleDateString(\"ko-KR\", {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n  });\n};\n\nconst formatNumber = (number) => {\n  if (!number && number !== 0) return \"\";\n  return number.toLocaleString();\n};\n\n// 컴포넌트 마운트 시 전체 목록 조회 (검색조건 없이)\nonMounted(() => {\n  searchPlans(); // 빈 검색조건으로 전체 조회\n});\n</script>\n\n<style scoped>\n/* 테이블 스크롤바 스타일링 */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f8fafc;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\n/* 테이블 행 hover 효과 */\ntbody tr:hover {\n  background-color: #eff6ff !important;\n}\n\n/* 입력 필드 포커스 효과 */\ninput:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n/* 버튼 트랜지션 */\nbutton {\n  transition: all 0.15s ease-in-out;\n}\n</style>\n"],"names":["loading","ref","planList","showDetailModal","selectedPlanId","searchParams","searchPlans","params","key","response","axios","resetSearch","viewPlanDetail","plan","formatDate","dateString","formatNumber","number","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","_vModelText","_hoisted_5","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_Fragment","_renderList","index","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_createBlock","_component_PlanDetailModal"],"mappings":"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"}