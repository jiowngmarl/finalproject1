{"version":3,"file":"PackageLine-C2d5JZ7W.js","sources":["../../../client/src/pages/package/PackageLine.vue"],"sourcesContent":["<template>\r\n  <div class=\"package-line-container\">\r\n    <!-- 1단계: 포장 타입 선택 -->\r\n    <div v-if=\"currentStep === 'package-type-selection'\" class=\"package-type-selection\">\r\n      <nav class=\"breadcrumb\">\r\n        <span class=\"breadcrumb-item\">홈</span>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-item\">포장</span>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-item active\">포장 직접 수행</span>\r\n      </nav>\r\n\r\n      <div class=\"header-section\">\r\n        <h1>포장 라인 선택</h1>\r\n        <p>작업할 포장 유형을 선택해주세요</p>\r\n               \r\n        <!--  동적 완료 알림 메시지 -->\r\n        <div v-if=\"showCompletionMessage\" class=\"completion-alert\" :class=\"completionMessageType\">\r\n          {{ completionMessage }}\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"package-type-cards\">\r\n        <!-- 내포장 카드 -->\r\n        <div class=\"package-type-card\"\r\n            :class=\"{ completed: completedSteps.includes('INNER') }\"\r\n            @click=\"selectPackageType('INNER')\">\r\n          <h3>내포장</h3>\r\n          <p>정제를 PTP/병에 포장하는 작업</p>\r\n          <div v-if=\"completedSteps.includes('INNER')\" class=\"completion-badge\">\r\n            ✅ 작업완료\r\n            <div class=\"completion-time\">{{ formatTime(innerCompletionTime) }}</div>\r\n          </div>\r\n          <button v-else class=\"selection-button available\" @click.stop=\"selectPackageType('INNER')\">\r\n            작업 시작하기\r\n          </button>\r\n        </div>\r\n        \r\n        <!-- 외포장 카드 -->\r\n        <div class=\"package-type-card\"\r\n            :class=\"{ \r\n              completed: completedSteps.includes('OUTER'), \r\n              disabled: !completedSteps.includes('INNER'),\r\n              highlighted: completedSteps.includes('INNER') && !completedSteps.includes('OUTER')\r\n            }\"\r\n            @click=\"selectPackageType('OUTER')\">\r\n          <h3>외포장</h3>\r\n          <p>내포장된 제품을 박스에 포장하는 작업</p>\r\n          <div v-if=\"completedSteps.includes('OUTER')\" class=\"completion-badge\">\r\n            ✅ 작업완료\r\n            <div class=\"completion-time\">{{ formatTime(outerCompletionTime) }}</div>\r\n          </div>\r\n          <button v-else-if=\"completedSteps.includes('INNER')\" \r\n                  class=\"selection-button available highlighted\"\r\n                  @click.stop=\"selectPackageType('OUTER')\">\r\n            다음 단계 진행\r\n          </button>\r\n          <button v-else class=\"selection-button disabled\" disabled>\r\n            내포장 완료 후 선택 가능\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"navigation-actions\">\r\n        <button @click=\"goBackToLineAdd\" class=\"back-btn secondary\">\r\n          라인 관리로 이동\r\n        </button>\r\n      </div>\r\n      \r\n      <!-- 완료된 작업 요약 -->\r\n      <div v-if=\"completedSteps.length > 0\" class=\"completion-summary\">\r\n        <h4>완료된 작업</h4>\r\n        <div class=\"completed-items\">\r\n          <div v-if=\"completedSteps.includes('INNER')\" class=\"completed-item\">\r\n            <div class=\"item-content\">\r\n              <span class=\"item-title\">내포장 완료</span>\r\n              <span class=\"item-work\">작업번호: {{ innerWorkNo || '작업번호없음' }}</span>\r\n            </div>\r\n            <span class=\"time\">{{ formatTime(innerCompletionTime) }}</span>\r\n          </div>\r\n          <div v-if=\"completedSteps.includes('OUTER')\" class=\"completed-item\">\r\n            <div class=\"item-content\">\r\n              <span class=\"item-title\">외포장 완료</span>\r\n              <span class=\"item-work\">작업번호: {{ outerWorkNo || '작업번호없음' }}</span>\r\n            </div>\r\n            <span class=\"time\">{{ formatTime(outerCompletionTime) }}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 모든 작업 완료시 -->\r\n        <div v-if=\"completedSteps.includes('INNER') && completedSteps.includes('OUTER')\" class=\"all-complete-section\">\r\n          <div class=\"all-complete-message\">\r\n            🎉 모든 포장 작업이 완료되었습니다!\r\n          </div>\r\n          <div class=\"complete-summary-info\">\r\n            <p>총 작업시간: {{ getTotalWorkTime() }}</p>\r\n            <p>처리된 작업: 내포장({{ innerWorkNo }}) + 외포장({{ outerWorkNo }})</p>\r\n          </div>\r\n          <button @click=\"resetAllSteps\" class=\"reset-btn\">\r\n            새 작업 시작하기\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 2단계: 라인 선택 -->\r\n    <div v-if=\"currentStep === 'line-selection'\" class=\"line-selection\">\r\n      <nav class=\"breadcrumb\">\r\n        <span class=\"breadcrumb-item\">홈</span>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-item\">포장</span>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-item\" @click=\"goBackToPackageTypeSelection\" style=\"cursor: pointer; color: #3b82f6;\">\r\n          포장 타입 선택\r\n        </span>\r\n        <span class=\"breadcrumb-separator\">/</span>\r\n        <span class=\"breadcrumb-item active\">{{ getLineTypeText(selectedPackageType) }} 라인 선택</span>\r\n      </nav>\r\n      \r\n      <div class=\"header-section\">\r\n        <h1>{{ getLineTypeText(selectedPackageType) }} 라인 선택</h1>\r\n        <p>사용 가능한 {{ getLineTypeText(selectedPackageType) }} 라인을 선택하여 작업을 시작하세요</p>\r\n        \r\n        \r\n        <!--  단계별 진행 표시 -->\r\n        <div class=\"workflow-progress\">\r\n          <div class=\"progress-step\" :class=\"{ completed: completedSteps.includes('INNER'), active: selectedPackageType === 'INNER' }\">\r\n            <div class=\"step-text\">내포장</div>\r\n          </div>\r\n          <div class=\"progress-arrow\">-></div>\r\n          <div class=\"progress-step\" :class=\"{ completed: completedSteps.includes('OUTER'), active: selectedPackageType === 'OUTER' }\">\r\n            <div class=\"step-text\">외포장</div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 내포장 완료 시 외포장 안내 -->\r\n        <div v-if=\"selectedPackageType === 'OUTER' && completedSteps.includes('INNER')\" class=\"next-step-guide\">\r\n          <div class=\"guide-content\">\r\n            <h4>내포장 작업이 완료되었습니다!</h4>\r\n            <p>이제 외포장 라인을 선택하여 최종 포장 작업을 진행해주세요.</p>\r\n            <div class=\"guide-details\">\r\n              <span>완료된 내포장 작업: {{ innerWorkNo }}</span>\r\n              <span>완료 시간: {{ formatTime(innerCompletionTime) }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 필터 및 검색 -->\r\n      <div class=\"filter-section\">\r\n        <div class=\"filter-row\">\r\n          <div class=\"filter-group\">\r\n            <label>라인 타입</label>\r\n            <select v-model=\"lineTypeFilter\" class=\"filter-select\">\r\n              <option value=\"\">전체</option>\r\n              <option value=\"INNER\">내포장</option>\r\n              <option value=\"OUTER\">외포장</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"filter-group\">\r\n            <label>라인 상태</label>\r\n            <select v-model=\"lineStatusFilter\" class=\"filter-select\">\r\n              <option value=\"\">전체</option>\r\n              <option value=\"s1\">가동 중</option>\r\n              <option value=\"s2\">가동대기 중</option>\r\n              <option value=\"s3\">정지</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"filter-group\">\r\n            <label>검색</label>\r\n            <input v-model=\"searchText\" type=\"text\" placeholder=\"라인명으로 검색\" class=\"filter-input\" />\r\n          </div>\r\n          <button @click=\"clearAllFilters\" class=\"filter-reset-btn\">\r\n            필터 초기화\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 로딩 및 에러 상태 -->\r\n      <div v-if=\"loading\" class=\"loading-state\">\r\n        <div class=\"loading-spinner\"></div>\r\n        <p>라인 정보를 불러오는 중...</p>\r\n      </div>\r\n      \r\n      <div v-else-if=\"error\" class=\"error-state\">\r\n        <p>{{ error }}</p>\r\n        <button @click=\"fetchLines\" class=\"retry-btn\">다시 시도</button>\r\n      </div>\r\n      \r\n      <!-- 라인 목록 -->\r\n      <div v-else-if=\"filteredLines.length === 0\" class=\"empty-state\">\r\n        <h3>조건에 맞는 라인이 없습니다</h3>\r\n        <p>필터 조건을 변경해 주세요</p>\r\n        <button @click=\"clearAllFilters\" class=\"retry-btn\">필터 초기화</button>\r\n      </div>\r\n      \r\n      <div v-else class=\"lines-grid\">\r\n        <div v-for=\"line in filteredLines\" :key=\"line.line_id\"\r\n          class=\"line-card\"\r\n          :class=\"{\r\n            available: line.line_state === 's2',\r\n            working: line.line_state === 's1',\r\n            stopped: line.line_state === 's3',\r\n            recommended: isRecommendedLine(line)\r\n          }\"\r\n        >\r\n          <div class=\"line-header\">\r\n            <h3 class=\"line-name\">{{ line.line_name }}</h3>\r\n            <div v-if=\"isRecommendedLine(line)\" class=\"recommended-badge\">\r\n              추천\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"line-status\">\r\n            <span class=\"status-badge\" :class=\"line.line_state\">\r\n              {{ getStatusText(line.line_state) }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"line-details\">\r\n            <div class=\"detail-row\">\r\n              <span class=\"label\">타입:</span>\r\n              <span class=\"value\">{{ getLineTypeText(line.line_type) }}</span>\r\n            </div>\r\n            <div class=\"detail-row\">\r\n              <span class=\"label\">라인 ID:</span>\r\n              <span class=\"value\">{{ line.line_id }}</span>\r\n            </div>\r\n            <div class=\"detail-row\">\r\n              <span class=\"label\">설비명:</span>\r\n              <span class=\"value\">{{ line.eq_name }}</span>\r\n            </div>\r\n            <div class=\"detail-row\">\r\n              <span class=\"label\">제품번호:</span>\r\n              <span class=\"value\">{{ line.product_code }}</span>\r\n            </div>\r\n            <div class=\"detail-row\">\r\n              <span class=\"label\">제품명:</span>\r\n              <span class=\"value\">{{ line.product_name }}</span>\r\n            </div>\r\n            <div v-if=\"line.curr_work_no\" class=\"detail-row\">\r\n              <span class=\"label\">작업번호:</span>\r\n              <span class=\"value\">{{ line.curr_work_no }}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"line-actions\">\r\n            <button\r\n              v-if=\"line.line_state === 's2'\"\r\n              class=\"action-btn start\"\r\n              :class=\"{ recommended: isRecommendedLine(line) }\"\r\n              @click=\"startPackagingWork(line)\"\r\n            >\r\n              {{ isRecommendedLine(line) ? '작업 시작' : '작업 시작' }}\r\n            </button>\r\n            <button\r\n              v-else-if=\"line.line_state === 's1'\"\r\n              class=\"action-btn continue\"\r\n              @click=\"continuePackagingWork(line)\"\r\n            >\r\n              작업 계속\r\n            </button>\r\n            <button\r\n              v-else-if=\"line.line_state === 's3'\"\r\n              disabled\r\n              class=\"action-btn stopped\"\r\n            >\r\n              정지\r\n            </button>\r\n            <button\r\n              v-else\r\n              disabled\r\n              class=\"action-btn stopped\"\r\n            >\r\n              알 수 없음\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 뒤로가기 -->\r\n      <div class=\"navigation-actions\">\r\n        <button @click=\"goBackToPackageTypeSelection\" class=\"back-btn\">\r\n          포장 타입 선택으로 돌아가기\r\n        </button>\r\n        <button @click=\"goBackToLineAdd\" class=\"back-btn secondary\">\r\n          라인 관리로 이동\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 작업 시작 확인 모달 -->\r\n    <div v-if=\"showStartModal\" class=\"modal-overlay\" @click=\"closeStartModal\">\r\n      <div class=\"modal-content\" @click.stop>\r\n        <div class=\"modal-header\">\r\n          <h3>{{ getWorkStartTitle() }}</h3>\r\n          <button @click=\"closeStartModal\" class=\"modal-close\">닫기</button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"line-info\">\r\n            <h4>{{ selectedLineForStart?.line_name }}</h4>\r\n            <p><strong>라인 ID:</strong> {{ selectedLineForStart?.line_id }}</p>\r\n            <p><strong>타입:</strong> {{ getLineTypeText(selectedLineForStart?.line_type) }}</p>\r\n            <p><strong>제품번호:</strong> {{ selectedLineForStart?.product_code  }}</p>\r\n            <p><strong>제품명:</strong> {{ selectedLineForStart?.product_name  }}</p>\r\n          </div>\r\n          \r\n          <!--  워크플로우 정보 표시 -->\r\n          <div v-if=\"selectedPackageType === 'OUTER' && completedSteps.includes('INNER')\" class=\"workflow-info\">\r\n            <div class=\"workflow-step completed\">\r\n              <span class=\"step-status\">완료</span>\r\n              <div class=\"step-details\">\r\n                <strong>내포장 완료</strong>\r\n                <div class=\"step-meta\">작업번호: {{ innerWorkNo }} • {{ formatTime(innerCompletionTime) }}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"workflow-arrow\">다음 단계</div>\r\n            <div class=\"workflow-step current\">\r\n              <div class=\"step-details\">\r\n                <strong>외포장 진행</strong>\r\n                <div class=\"step-meta\">{{ selectedLineForStart?.line_name }}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <p class=\"confirmation-text\">이 라인에서 {{ getLineTypeText(selectedLineForStart?.line_type) }} 작업을 시작하시겠습니까?</p>\r\n        </div>\r\n        <div class=\"modal-actions\">\r\n          <button @click=\"closeStartModal\" class=\"btn-cancel\">취소</button>\r\n          <button @click=\"confirmStartWork\" class=\"btn-confirm\">\r\n            {{ getWorkStartButtonText() }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onBeforeMount } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport axios from 'axios'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\n// 상태 관리\r\nconst currentStep = ref('package-type-selection')\r\nconst selectedPackageType = ref(null)\r\nconst completedSteps = ref([])\r\nconst innerCompletionTime = ref(null)\r\nconst outerCompletionTime = ref(null)\r\nconst innerWorkNo = ref('')\r\nconst outerWorkNo = ref('')\r\n\r\n//  동적 완료 메시지 시스템\r\nconst showCompletionMessage = ref(false)\r\nconst completionMessage = ref('')\r\nconst completionMessageType = ref('success')\r\n\r\n// 현재 로그인한 사용자 정보\r\nconst currentEmployee = ref(null)\r\n\r\n// 필터 상태\r\nconst lineTypeFilter = ref('')\r\nconst lineStatusFilter = ref('')\r\nconst searchText = ref('')\r\n\r\n// 데이터 상태\r\nconst packageLines = ref([])\r\nconst loading = ref(false)\r\nconst error = ref('')\r\n\r\n// 모달 상태\r\nconst showStartModal = ref(false)\r\nconst selectedLineForStart = ref(null)\r\n\r\n// 필터링된 라인 목록\r\nconst filteredLines = computed(() => {\r\n  let lines = packageLines.value || []\r\n  \r\n  // 라인 타입 필터\r\n  if (lineTypeFilter.value) {\r\n    lines = lines.filter(line => line.line_type === lineTypeFilter.value)\r\n  }\r\n  \r\n  // 라인 상태 필터\r\n  if (lineStatusFilter.value) {\r\n    lines = lines.filter(line => line.line_state === lineStatusFilter.value)\r\n  }\r\n  \r\n  // 검색어 필터\r\n  if (searchText.value) {\r\n    const search = searchText.value.toLowerCase()\r\n    lines = lines.filter(line => \r\n      line.line_name?.toLowerCase().includes(search) ||\r\n      line.eq_name?.toLowerCase().includes(search) ||\r\n      line.line_id?.toString().includes(search)\r\n    )\r\n  }\r\n  \r\n  return lines\r\n})\r\n\r\n//  URL 파라미터 처리 (개선된 버전)\r\nonBeforeMount(() => {\r\n  console.log('포장 라인 페이지 로드')\r\n  console.log('URL 파라미터:', route.query)\r\n  \r\n  // Case 1: 내포장 완료 후 외포장으로 자동 이동\r\n  if (route.query.inner_completed === 'true' || route.query.completed_inner === 'true') {\r\n    console.log('내포장 완료 → 외포장 자동 활성화')\r\n    \r\n    completedSteps.value = ['INNER']\r\n    innerCompletionTime.value = new Date()\r\n    innerWorkNo.value = route.query.prev_work || route.query.completed_work || '내포장완료'\r\n    \r\n    selectedPackageType.value = 'OUTER'\r\n    currentStep.value = 'line-selection'\r\n    lineTypeFilter.value = 'OUTER'\r\n    \r\n    // 완료 메시지 표시\r\n    if (route.query.message) {\r\n      showCompletionMessage.value = true\r\n      completionMessage.value = route.query.message\r\n      completionMessageType.value = 'success'\r\n      \r\n      setTimeout(() => {\r\n        showCompletionMessage.value = false\r\n      }, 5000)\r\n    }\r\n    \r\n    setTimeout(() => router.replace({ query: {} }), 100)\r\n    return\r\n  }\r\n  \r\n  // Case 2: 외포장 완료 후 돌아온 경우\r\n  if (route.query.outer_completed === 'true') {\r\n    console.log('외포장 완료 → 전체 완료')\r\n    \r\n    completedSteps.value = ['INNER', 'OUTER']\r\n    innerCompletionTime.value = new Date(Date.now() - 3600000) // 1시간 전\r\n    outerCompletionTime.value = new Date()\r\n    innerWorkNo.value = route.query.prev_inner_work || '내포장완료'\r\n    outerWorkNo.value = route.query.prev_work || route.query.completed_work || '외포장완료'\r\n    \r\n    currentStep.value = 'package-type-selection'\r\n    selectedPackageType.value = null\r\n    \r\n    // 전체 완료 메시지\r\n    showCompletionMessage.value = true\r\n    completionMessage.value = '모든 포장 작업이 완료되었습니다!'\r\n    completionMessageType.value = 'success'\r\n    \r\n    setTimeout(() => {\r\n      showCompletionMessage.value = false\r\n    }, 8000)\r\n    \r\n    setTimeout(() => router.replace({ query: {} }), 100)\r\n    return\r\n  }\r\n  \r\n  // Case 3: 작업 수행 중 다른 라인으로 돌아온 경우\r\n  if (route.query.from_work === 'true') {\r\n    const maintainType = route.query.maintain_type\r\n    console.log(`${maintainType} 작업에서 돌아옴`)\r\n    \r\n    selectedPackageType.value = maintainType\r\n    currentStep.value = 'line-selection'\r\n    lineTypeFilter.value = maintainType\r\n    \r\n    if (maintainType === 'OUTER') {\r\n      completedSteps.value = ['INNER']\r\n      innerCompletionTime.value = new Date(Date.now() - 1800000) // 30분 전\r\n      innerWorkNo.value = route.query.prev_work || '내포장완료'\r\n    }\r\n    \r\n    setTimeout(() => router.replace({ query: {} }), 100)\r\n    return\r\n  }\r\n  \r\n  // Case 4: 일반 진입\r\n  console.log('일반 진입 - 처음부터 시작')\r\n  currentStep.value = 'package-type-selection'\r\n  selectedPackageType.value = null\r\n  completedSteps.value = []\r\n})\r\n\r\n// 컴포넌트 마운트 시 라인 목록 로드\r\nonMounted(() => {\r\n  console.log('컴포넌트 마운트 - 라인 목록 로드 시작')\r\n  fetchLines()\r\n})\r\n\r\n// ====== API 함수들 ======\r\n\r\n// 현재 로그인한 사용자 정보 로드 (에러 방지 버전)\r\nasync function loadCurrentEmployee() {\r\n  try {\r\n    console.log('현재 사용자 정보 로드 시작...')\r\n    const response = await axios.get('/lines/current-employee')\r\n    \r\n    if (response.data && response.data.success) {\r\n      currentEmployee.value = response.data.data\r\n      console.log('현재 사용자 정보 로드 성공:', currentEmployee.value)\r\n    } else {\r\n      throw new Error(response.data?.message || 'API 응답 오류')\r\n    }\r\n  } catch (error) {\r\n    console.error('현재 사용자 정보 로드 실패:', error)\r\n    \r\n    //  기본 사용자 정보로 대체 (에러 방지)\r\n    currentEmployee.value = { \r\n      employee_name: '김홍인', \r\n      employee_id: 2 \r\n    }\r\n    \r\n    if (error.response?.status === 401) {\r\n      console.warn('로그인이 필요합니다. 기본 사용자로 진행합니다.')\r\n    } else if (error.code === 'ERR_NETWORK') {\r\n      console.warn('API 서버에 연결할 수 없습니다. 기본값을 사용합니다.')\r\n    } else {\r\n      console.warn('사용자 정보를 불러올 수 없어 기본값을 사용합니다.')\r\n    }\r\n  }\r\n}\r\n\r\n// 라인 목록 가져오기\r\nasync function fetchLines() {\r\n  loading.value = true\r\n  error.value = ''\r\n  try {\r\n    const res = await axios.get('/lines/list')\r\n    \r\n    if (res.data && res.data.success && Array.isArray(res.data.data)) {\r\n      packageLines.value = res.data.data\r\n      console.log('라인 목록 로드 완료:', res.data.data.length, '개')\r\n    } else {\r\n      packageLines.value = []\r\n      error.value = '데이터 형식이 올바르지 않습니다'\r\n    }\r\n  } catch (err) {\r\n    console.error('라인 목록 로드 실패:', err)\r\n    error.value = '라인 목록을 불러오지 못했습니다.'\r\n    packageLines.value = []\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 포장 타입 선택 (워크플로우 개선)\r\nfunction selectPackageType(type) {\r\n  console.log('포장 타입 선택:', type)\r\n  console.log('현재 완료된 단계:', completedSteps.value)\r\n  \r\n  if (type === 'OUTER' && !completedSteps.value.includes('INNER')) {\r\n    alert('내포장 작업을 먼저 완료해주세요.')\r\n    return\r\n  }\r\n  \r\n  selectedPackageType.value = type\r\n  currentStep.value = 'line-selection'\r\n  lineTypeFilter.value = type\r\n  lineStatusFilter.value = ''\r\n  searchText.value = ''\r\n  \r\n  console.log(`${type === 'INNER' ? '내포장' : '외포장'} 라인 선택 화면으로 이동`)\r\n}\r\n\r\n// 포장 타입 선택으로 돌아가기\r\nfunction goBackToPackageTypeSelection() {\r\n  currentStep.value = 'package-type-selection'\r\n  selectedPackageType.value = null\r\n  lineTypeFilter.value = ''\r\n  lineStatusFilter.value = ''\r\n  searchText.value = ''\r\n}\r\n\r\n// 라인 관리로 이동\r\nfunction goBackToLineAdd() {\r\n  console.log('포장 라인 관리로 이동')\r\n  try {\r\n    router.push({ name: 'package_add_line' })\r\n  } catch (err) {\r\n    console.warn('라우터를 통한 이동 실패:', err)\r\n    window.location.href = '/faq/package_add_line'\r\n  }\r\n}\r\n\r\n//  모든 단계 초기화 (개선된 버전)\r\nfunction resetAllSteps() {\r\n  if (confirm('모든 작업 내역이 초기화됩니다. 정말 새 작업을 시작하시겠습니까?')) {\r\n    currentStep.value = 'package-type-selection'\r\n    selectedPackageType.value = null\r\n    completedSteps.value = []\r\n    innerCompletionTime.value = null\r\n    outerCompletionTime.value = null\r\n    innerWorkNo.value = ''\r\n    outerWorkNo.value = ''\r\n    showCompletionMessage.value = false\r\n    lineTypeFilter.value = ''\r\n    lineStatusFilter.value = ''\r\n    searchText.value = ''\r\n    console.log('모든 단계 초기화 완료')\r\n  }\r\n}\r\n\r\n// 필터 초기화\r\nfunction clearAllFilters() {\r\n  if (currentStep.value === 'line-selection' && selectedPackageType.value) {\r\n    lineTypeFilter.value = selectedPackageType.value\r\n  } else {\r\n    lineTypeFilter.value = ''\r\n  }\r\n  lineStatusFilter.value = ''\r\n  searchText.value = ''\r\n}\r\n\r\n//  추천 라인 판별 (외포장 시 특정 라인 추천)\r\nfunction isRecommendedLine(line) {\r\n  if (selectedPackageType.value === 'OUTER' && completedSteps.value.includes('INNER')) {\r\n    // 외포장 시 특정 조건의 라인을 추천\r\n    return line.line_state === 's2' && \r\n           line.line_type === 'OUTER' && \r\n           (line.line_name.includes('A') || line.line_name.includes('1'))\r\n  }\r\n  return false\r\n}\r\n\r\n// 작업 시작 버튼 클릭\r\nfunction startPackagingWork(line) {\r\n  selectedLineForStart.value = line\r\n  showStartModal.value = true\r\n}\r\n\r\n// 작업 계속 버튼 클릭\r\nfunction continuePackagingWork(line) {\r\n  navigateToWorkPage(line)\r\n}\r\n\r\n//  작업 시작 확인 (개선된 버전)\r\nasync function confirmStartWork() {\r\n  if (!selectedLineForStart.value) return\r\n  \r\n  try {\r\n    console.log('작업 시작:', selectedLineForStart.value)\r\n    navigateToWorkPage(selectedLineForStart.value)\r\n  } catch (err) {\r\n    console.error('작업 시작 중 오류:', err)\r\n    alert('작업 시작 중 오류가 발생했습니다.')\r\n  } finally {\r\n    closeStartModal()\r\n  }\r\n}\r\n\r\n//  작업 수행 페이지로 이동 (워크플로우 상태 전달)\r\nfunction navigateToWorkPage(line) {\r\n  console.log('작업 페이지로 이동:', line)\r\n  \r\n  const queryParams = {\r\n    line_id: line.line_id,\r\n    line_name: line.line_name,\r\n    line_type: line.line_type,\r\n    work_no: line.curr_work_no || '',\r\n    return_to: 'package_line',\r\n    current_package_type: selectedPackageType.value,\r\n    employee_id: currentEmployee.value?.employee_id || '',\r\n    employee_name: currentEmployee.value?.employee_name || ''\r\n  }\r\n  \r\n  //  워크플로우 상태 정보 추가\r\n  if (selectedPackageType.value === 'OUTER' && completedSteps.value.includes('INNER')) {\r\n    queryParams.workflow_step = 'OUTER'\r\n    queryParams.inner_completed = 'true'\r\n    queryParams.inner_work_no = innerWorkNo.value\r\n    queryParams.inner_completion_time = innerCompletionTime.value?.toISOString()\r\n    queryParams.auto_start_guide = 'true' // 외포장 자동 안내 활성화\r\n  } else if (selectedPackageType.value === 'INNER') {\r\n    queryParams.workflow_step = 'INNER'\r\n    queryParams.next_step = 'OUTER'\r\n  }\r\n  \r\n  try {\r\n    router.push({\r\n      name: 'package_work',\r\n      query: queryParams\r\n    })\r\n    console.log('작업 페이지로 이동 성공')\r\n  } catch (routerError) {\r\n    console.error('라우터 이동 실패:', routerError)\r\n    \r\n    const params = new URLSearchParams(queryParams)\r\n    window.location.href = `/packaging/work?${params.toString()}`\r\n  }\r\n}\r\n\r\n// 모달 닫기\r\nfunction closeStartModal() {\r\n  showStartModal.value = false\r\n  selectedLineForStart.value = null\r\n}\r\n\r\n//  워크플로우 관련 텍스트 함수들\r\nfunction getWorkStartTitle() {\r\n  if (selectedPackageType.value === 'OUTER' && completedSteps.value.includes('INNER')) {\r\n    return '외포장 작업 시작 확인'\r\n  }\r\n  return '작업 시작 확인'\r\n}\r\n\r\nfunction getWorkStartButtonText() {\r\n  if (selectedPackageType.value === 'OUTER' && completedSteps.value.includes('INNER')) {\r\n    return '외포장 작업 시작'\r\n  }\r\n  return '작업 시작'\r\n}\r\n\r\nfunction getTotalWorkTime() {\r\n  if (innerCompletionTime.value && outerCompletionTime.value) {\r\n    const diff = outerCompletionTime.value.getTime() - innerCompletionTime.value.getTime()\r\n    const hours = Math.floor(diff / (1000 * 60 * 60))\r\n    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60))\r\n    return `${hours}시간 ${minutes}분`\r\n  }\r\n  return '-'\r\n}\r\n\r\n// 헬퍼 함수들\r\nfunction getLineTypeText(type) {\r\n  return type === 'INNER' ? '내포장' : '외포장'\r\n}\r\n\r\nfunction getStatusText(status) {\r\n  const map = {\r\n    's1': '가동 중',\r\n    's2': '가동대기 중',\r\n    's3': '정지'\r\n  }\r\n  return map[status] || status\r\n}\r\n\r\nfunction formatTime(date) {\r\n  if (!date) return ''\r\n  return date.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })\r\n}\r\n\r\n// 컴포넌트 함수들을 export\r\ndefineExpose({\r\n  selectPackageType,\r\n  goBackToPackageTypeSelection,\r\n  goBackToLineAdd,\r\n  resetAllSteps\r\n})\r\n\r\ndefineOptions({\r\n  name: 'PackageLineSelection'\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n/* 전체 레이아웃 */\r\n.package-line-container {\r\n  min-height: 100vh;\r\n  background-color: #f8f9fa;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\r\n}\r\n\r\n/* 브레드크럼 */\r\n.breadcrumb {\r\n  padding: 12px 24px;\r\n  background: white;\r\n  border-bottom: 1px solid #e9ecef;\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n}\r\n\r\n.breadcrumb-item.active {\r\n  color: #495057;\r\n  font-weight: 500;\r\n}\r\n\r\n.breadcrumb-separator {\r\n  margin: 0 8px;\r\n}\r\n\r\n/* 헤더 */\r\n.header-section {\r\n  background: white;\r\n  border-bottom: 1px solid #e9ecef;\r\n  padding: 20px 24px;\r\n}\r\n\r\n.header-section h1 {\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  color: #212529;\r\n  margin: 0 0 8px 0;\r\n}\r\n\r\n.header-section p {\r\n  color: #6c757d;\r\n  margin: 0;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 완료 메시지 */\r\n.completion-alert {\r\n  margin: 16px 0;\r\n  padding: 10px 14px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  background: #d1ecf1;\r\n  color: #0c5460;\r\n  border: 1px solid #bee5eb;\r\n}\r\n\r\n.completion-alert.warning {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n  border: 1px solid #ffeaa7;\r\n}\r\n\r\n.completion-alert.info {\r\n  background: #d1ecf1;\r\n  color: #0c5460;\r\n  border: 1px solid #bee5eb;\r\n}\r\n\r\n/* 워크플로우 진행 표시 */\r\n.workflow-progress {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin: 16px auto;\r\n  padding: 16px;\r\n  background: white;\r\n  border-radius: 4px;\r\n  border: 1px solid #e9ecef;\r\n  max-width: 300px;\r\n}\r\n\r\n.progress-step {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 8px;\r\n  border-radius: 4px;\r\n  opacity: 0.5;\r\n  font-size: 12px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.progress-step.completed {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  opacity: 1;\r\n}\r\n\r\n.progress-step.active {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  opacity: 1;\r\n}\r\n\r\n.step-text {\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n  color: #495057;\r\n}\r\n\r\n.progress-arrow {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n}\r\n\r\n/* 다음 단계 안내 */\r\n.next-step-guide {\r\n  background: #f8f9fa;\r\n  border: 1px solid #007bff;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  margin: 16px 0;\r\n}\r\n\r\n.guide-content h4 {\r\n  margin: 0 0 8px 0;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n}\r\n\r\n.guide-content p {\r\n  margin: 0 0 8px 0;\r\n  color: #6c757d;\r\n  font-size: 12px;\r\n}\r\n\r\n.guide-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n/* 포장 타입 선택 - 크기 개선 */\r\n.package-type-selection {\r\n  padding: 24px;\r\n}\r\n\r\n.package-type-cards {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 32px;\r\n  max-width: 1200px;\r\n  margin: 32px auto 48px;\r\n}\r\n\r\n.package-type-card {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 40px 32px;\r\n  text-align: center;\r\n  border: 3px solid #e9ecef;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  min-height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.package-type-card:hover {\r\n  border-color: #007bff;\r\n  transform: translateY(-4px);\r\n  box-shadow: 0 8px 25px rgba(0, 123, 255, 0.15);\r\n}\r\n\r\n.package-type-card.completed {\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e8f5e8 100%);\r\n  border-color: #28a745;\r\n  box-shadow: 0 6px 20px rgba(40, 167, 69, 0.2);\r\n}\r\n\r\n.package-type-card.disabled {\r\n  background: #f8f9fa;\r\n  color: #6c757d;\r\n  cursor: not-allowed;\r\n  opacity: 0.7;\r\n  transform: none !important;\r\n}\r\n\r\n.package-type-card.highlighted {\r\n  border-color: #007bff;\r\n  background: linear-gradient(135deg, #f0f8ff 0%, #e6f3ff 100%);\r\n  box-shadow: 0 8px 30px rgba(0, 123, 255, 0.25);\r\n  animation: gentle-pulse 3s ease-in-out infinite;\r\n}\r\n\r\n@keyframes gentle-pulse {\r\n  0%, 100% { \r\n    transform: scale(1);\r\n    box-shadow: 0 8px 30px rgba(0, 123, 255, 0.25);\r\n  }\r\n  50% { \r\n    transform: scale(1.02);\r\n    box-shadow: 0 12px 40px rgba(0, 123, 255, 0.35);\r\n  }\r\n}\r\n\r\n.card-icon {\r\n  font-size: 48px;\r\n  margin-bottom: 16px;\r\n  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.package-type-card h3 {\r\n  font-size: 28px;\r\n  font-weight: 700;\r\n  margin-bottom: 16px;\r\n  color: #495057;\r\n}\r\n\r\n.package-type-card p {\r\n  font-size: 16px;\r\n  margin-bottom: 24px;\r\n  color: #6c757d;\r\n  line-height: 1.6;\r\n}\r\n\r\n.selection-button {\r\n  padding: 16px 32px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  min-width: 180px;\r\n  text-transform: none;\r\n}\r\n\r\n.selection-button.available {\r\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);\r\n  color: white;\r\n  box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);\r\n}\r\n\r\n.selection-button.available:hover {\r\n  background: linear-gradient(135deg, #0056b3 0%, #004494 100%);\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4);\r\n}\r\n\r\n.selection-button.highlighted {\r\n  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);\r\n  color: white;\r\n  animation: button-pulse 2s ease-in-out infinite;\r\n  box-shadow: 0 4px 20px rgba(0, 123, 255, 0.4);\r\n}\r\n\r\n@keyframes button-pulse {\r\n  0%, 100% {\r\n    box-shadow: 0 4px 20px rgba(0, 123, 255, 0.4);\r\n  }\r\n  50% {\r\n    box-shadow: 0 6px 30px rgba(0, 123, 255, 0.6);\r\n  }\r\n}\r\n\r\n.selection-button.highlighted:hover {\r\n  background: linear-gradient(135deg, #0056b3 0%, #004494 100%);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.selection-button.disabled {\r\n  background: #e9ecef;\r\n  color: #6c757d;\r\n  cursor: not-allowed;\r\n  font-size: 14px;\r\n  box-shadow: none;\r\n}\r\n\r\n.completion-badge {\r\n  padding: 16px 24px;\r\n  background: linear-gradient(135deg, #28a745 0%, #20a039 100%);\r\n  color: white;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);\r\n}\r\n\r\n.completion-time {\r\n  font-size: 14px;\r\n  color: rgba(255, 255, 255, 0.9);\r\n  margin-top: 8px;\r\n}\r\n\r\n/* 완료 요약 */\r\n.completion-summary {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 24px;\r\n  border: 1px solid #e9ecef;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.completion-summary h4 {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.completed-items {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.completed-item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n  padding: 16px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.item-content {\r\n  flex: 1;\r\n}\r\n\r\n.item-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  display: block;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.item-work {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n}\r\n\r\n.completed-item .time {\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n  font-weight: 500;\r\n}\r\n\r\n.all-complete-section {\r\n  border-top: 1px solid #e9ecef;\r\n  padding-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.all-complete-message {\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  color: #007bff;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.complete-summary-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #e9ecef;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.complete-summary-info p {\r\n  margin: 6px 0;\r\n  font-size: 14px;\r\n  color: #495057;\r\n}\r\n\r\n/* 필터 섹션 */\r\n.filter-section {\r\n  padding: 16px 24px;\r\n}\r\n\r\n.filter-row {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: flex-end;\r\n  background: white;\r\n  padding: 16px;\r\n  border-radius: 4px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.filter-group {\r\n  flex: 1;\r\n}\r\n\r\n.filter-group label {\r\n  display: block;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.filter-select,\r\n.filter-input {\r\n  width: 100%;\r\n  padding: 6px 10px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n}\r\n\r\n.filter-select:focus,\r\n.filter-input:focus {\r\n  outline: none;\r\n  border-color: #007bff;\r\n}\r\n\r\n.filter-reset-btn {\r\n  padding: 6px 12px;\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n}\r\n\r\n.filter-reset-btn:hover {\r\n  background: #545b62;\r\n}\r\n\r\n/* 상태 화면들 */\r\n.loading-state,\r\n.error-state,\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 40px 24px;\r\n  background: white;\r\n  border-radius: 4px;\r\n  margin: 0 24px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 32px;\r\n  height: 32px;\r\n  border: 3px solid #f3f3f3;\r\n  border-top: 3px solid #007bff;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n  margin: 0 auto 16px;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n\r\n.error-state p,\r\n.empty-state p {\r\n  color: #6c757d;\r\n  margin: 8px 0 16px;\r\n  font-size: 14px;\r\n}\r\n\r\n.empty-state h3 {\r\n  color: #495057;\r\n  margin-bottom: 8px;\r\n  font-size: 16px;\r\n}\r\n\r\n.retry-btn {\r\n  padding: 8px 16px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n}\r\n\r\n.retry-btn:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n/* 라인 그리드 */\r\n.lines-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\r\n  gap: 16px;\r\n  padding: 0 24px;\r\n}\r\n\r\n.line-card {\r\n  background: white;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  border: 1px solid #e9ecef;\r\n  transition: border-color 0.15s;\r\n  position: relative;\r\n}\r\n\r\n.line-card:hover {\r\n  border-color: #007bff;\r\n}\r\n\r\n.line-card.available {\r\n  border-color: #e9ecef;\r\n}\r\n\r\n.line-card.working {\r\n  border-color: #e9ecef;\r\n}\r\n\r\n.line-card.maintenance {\r\n  border-color: #e9ecef;\r\n}\r\n\r\n.line-card.stopped {\r\n  border-color: #e9ecef;\r\n}\r\n\r\n.line-card.recommended {\r\n  border-color: #e9ecef;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.line-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n  position: relative;\r\n}\r\n\r\n.line-name {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n}\r\n\r\n.recommended-badge {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -8px;\r\n  background: #007bff;\r\n  color: white;\r\n  font-size: 10px;\r\n  font-weight: 600;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.line-status {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 12px;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-badge.available {\r\n  background: #d1ecf1;\r\n  color: #0c5460;\r\n}\r\n\r\n.status-badge.working {\r\n  background: #d1ecf1;\r\n  color: #0c5460;\r\n}\r\n\r\n.status-badge.maintenance {\r\n  background: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.status-badge.stopped {\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.line-details {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 6px;\r\n  font-size: 12px;\r\n}\r\n\r\n.detail-row .label {\r\n  color: #6c757d;\r\n}\r\n\r\n.detail-row .value {\r\n  color: #495057;\r\n  font-weight: 500;\r\n}\r\n\r\n.action-btn {\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.action-btn.start {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.action-btn.start:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.action-btn.start.recommended {\r\n  background: #007bff;\r\n}\r\n\r\n.action-btn.start.recommended:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.action-btn.continue {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.action-btn.continue:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.action-btn.maintenance {\r\n  background: #ffc107;\r\n  color: #212529;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.action-btn.stopped {\r\n  background: #dc3545;\r\n  color: white;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 모달 */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal-content {\r\n  background: white;\r\n  border-radius: 4px;\r\n  max-width: 500px;\r\n  width: 90%;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n  border: 1px solid #dee2e6;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 16px 20px;\r\n  border-bottom: 1px solid #e9ecef;\r\n}\r\n\r\n.modal-header h3 {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0;\r\n}\r\n\r\n.modal-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  color: #6c757d;\r\n  cursor: pointer;\r\n  padding: 4px;\r\n}\r\n\r\n.modal-close:hover {\r\n  color: #495057;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px;\r\n}\r\n\r\n.line-info {\r\n  background: #f8f9fa;\r\n  padding: 16px;\r\n  border-radius: 4px;\r\n  margin-bottom: 16px;\r\n  border: 1px solid #e9ecef;\r\n}\r\n\r\n.line-info h4 {\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n  color: #495057;\r\n  margin: 0 0 8px 0;\r\n}\r\n\r\n.line-info p {\r\n  margin: 4px 0;\r\n  font-size: 12px;\r\n  color: #6c757d;\r\n}\r\n\r\n.workflow-info {\r\n  background: #f8f9fa;\r\n  border: 1px solid #007bff;\r\n  border-radius: 4px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.workflow-step {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  padding: 6px 0;\r\n}\r\n\r\n.workflow-step .step-status {\r\n  font-size: 10px;\r\n  background: #28a745;\r\n  color: white;\r\n  padding: 2px 6px;\r\n  border-radius: 4px;\r\n  font-weight: 600;\r\n}\r\n\r\n.step-details strong {\r\n  display: block;\r\n  color: #495057;\r\n  font-size: 12px;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.step-meta {\r\n  font-size: 11px;\r\n  color: #6c757d;\r\n}\r\n\r\n.workflow-arrow {\r\n  text-align: center;\r\n  font-size: 12px;\r\n  color: #007bff;\r\n  margin: 6px 0;\r\n}\r\n\r\n.confirmation-text {\r\n  font-size: 14px;\r\n  color: #495057;\r\n  margin: 0;\r\n  text-align: center;\r\n}\r\n\r\n.modal-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 16px 20px;\r\n  border-top: 1px solid #e9ecef;\r\n}\r\n\r\n.btn-cancel,\r\n.btn-confirm {\r\n  flex: 1;\r\n  padding: 8px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #6c757d;\r\n  color: white;\r\n}\r\n\r\n.btn-cancel:hover {\r\n  background: #545b62;\r\n}\r\n\r\n.btn-confirm {\r\n  background: #007bff;\r\n  color: white;\r\n}\r\n\r\n.btn-confirm:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n/* 네비게이션 */\r\n.navigation-actions {\r\n  text-align: center;\r\n  margin: 24px;\r\n  display: flex;\r\n  gap: 12px;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.back-btn {\r\n  padding: 12px 24px;\r\n  background: #6c757d;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.back-btn:hover {\r\n  background: #545b62;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n.back-btn.secondary {\r\n  background: #007bff;\r\n}\r\n\r\n.back-btn.secondary:hover {\r\n  background: #0056b3;\r\n}\r\n\r\n.reset-btn {\r\n  padding: 12px 24px;\r\n  background: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.reset-btn:hover {\r\n  background: #0056b3;\r\n  transform: translateY(-1px);\r\n}\r\n\r\n/* 반응형 */\r\n@media (max-width: 768px) {\r\n  .package-type-cards {\r\n    grid-template-columns: 1fr;\r\n    gap: 24px;\r\n    margin: 24px auto 32px;\r\n  }\r\n  \r\n  .package-type-card {\r\n    min-height: 250px;\r\n    padding: 32px 24px;\r\n  }\r\n  \r\n  .card-icon {\r\n    font-size: 40px;\r\n    margin-bottom: 12px;\r\n  }\r\n  \r\n  .package-type-card h3 {\r\n    font-size: 24px;\r\n    margin-bottom: 12px;\r\n  }\r\n  \r\n  .package-type-card p {\r\n    font-size: 14px;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .selection-button {\r\n    padding: 14px 28px;\r\n    font-size: 15px;\r\n    min-width: 160px;\r\n  }\r\n  \r\n  .lines-grid {\r\n    grid-template-columns: 1fr;\r\n    padding: 0 16px;\r\n  }\r\n  \r\n  .filter-row {\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  .modal-content {\r\n    width: 95%;\r\n  }\r\n  \r\n  .modal-actions {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .navigation-actions {\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .workflow-progress {\r\n    flex-direction: column;\r\n    gap: 8px;\r\n  }\r\n\r\n  .progress-arrow {\r\n    transform: rotate(90deg);\r\n  }\r\n\r\n  .completed-item {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 8px;\r\n  }\r\n}\r\n\r\n@media (max-width: 480px) {\r\n  .package-type-selection {\r\n    padding: 16px;\r\n  }\r\n  \r\n  .package-type-cards {\r\n    gap: 20px;\r\n    margin: 20px auto 28px;\r\n  }\r\n  \r\n  .package-type-card {\r\n    min-height: 220px;\r\n    padding: 28px 20px;\r\n  }\r\n  \r\n  .card-icon {\r\n    font-size: 36px;\r\n  }\r\n  \r\n  .package-type-card h3 {\r\n    font-size: 22px;\r\n  }\r\n  \r\n  .selection-button {\r\n    padding: 12px 24px;\r\n    font-size: 14px;\r\n    min-width: 140px;\r\n  }\r\n}\r\n</style>"],"names":["router","useRouter","route","useRoute","currentStep","ref","selectedPackageType","completedSteps","innerCompletionTime","outerCompletionTime","innerWorkNo","outerWorkNo","showCompletionMessage","completionMessage","completionMessageType","currentEmployee","lineTypeFilter","lineStatusFilter","searchText","packageLines","loading","error","showStartModal","selectedLineForStart","filteredLines","computed","lines","line","search","_a","_b","_c","onBeforeMount","maintainType","onMounted","fetchLines","res","axios","err","selectPackageType","type","goBackToPackageTypeSelection","goBackToLineAdd","resetAllSteps","clearAllFilters","isRecommendedLine","startPackagingWork","continuePackagingWork","navigateToWorkPage","confirmStartWork","closeStartModal","queryParams","routerError","params","getWorkStartTitle","getWorkStartButtonText","getTotalWorkTime","diff","hours","minutes","getLineTypeText","getStatusText","status","formatTime","date","__expose","_openBlock","_createElementBlock","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_cache","_normalizeClass","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","$event","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_Fragment","_renderList","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_createTextVNode","_d","_e","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_f","_hoisted_71","_g","_hoisted_72"],"mappings":"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"}