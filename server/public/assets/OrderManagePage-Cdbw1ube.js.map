{"version":3,"file":"OrderManagePage-Cdbw1ube.js","sources":["../../../client/src/pages/admin/order/OrderManagePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"order-management\">\r\n    <h1>주문 관리</h1>\r\n    \r\n    <!-- 검색 영역 -->\r\n    <div class=\"search-area\">\r\n      <va-input \r\n        v-model=\"searchText\" \r\n        placeholder=\"주문번호, 거래처명 검색\"\r\n        style=\"width: 300px\"\r\n      />\r\n      <va-button @click=\"handleSearch\">검색</va-button>\r\n    </div>\r\n\r\n    <!-- 권한 없는 사용자를 위한 메시지 -->\r\n    <div v-if=\"!canManageSales\" class=\"permission-notice\">\r\n      <va-alert color=\"info\" icon=\"info\">\r\n        조회 전용 모드입니다. 주문 관리는 영업부서 권한이 필요합니다.\r\n      </va-alert>\r\n    </div>\r\n\r\n    <!-- 주문 목록 테이블 -->\r\n    <div class=\"table-section\">\r\n      <table class=\"order-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>주문번호</th>\r\n            <th>거래처명</th>\r\n            <th>주문일</th>\r\n            <th>납기일</th>\r\n            <th>상태</th>\r\n            <!-- 삭제 버튼은 영업 권한이 있을 때만 -->\r\n            <th v-if=\"canManageSales\" style=\"width: 80px; text-align: center;\">삭제</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <template v-for=\"order in groupedOrders\" :key=\"order.orderId\">\r\n            <!-- 주문 헤더 행 -->\r\n            <tr @click=\"handleOrderClick(order)\"\r\n                class=\"order-header-row\"\r\n                :class=\"{ \r\n                  'selected': selectedOrderId === order.orderId && canManageSales,\r\n                  'read-only': !canManageSales\r\n                }\">\r\n              <td>{{ order.orderId }}</td>\r\n              <td>{{ order.customerName }}</td>\r\n              <td>{{ formatDateToYMD(order.orderDate) }}</td>\r\n              <td>{{ formatDateToYMD(order.deliveryDate) }}</td>\r\n              <td>\r\n                <va-chip \r\n                  :color=\"getStatusColor(order.status)\" \r\n                  size=\"small\"\r\n                  :class=\"{ 'clickable-status': canManageSales }\"\r\n                  @click.stop=\"canManageSales ? openStatusModal(order) : null\"\r\n                  :title=\"canManageSales ? '클릭하여 상태 변경' : ''\"\r\n                >\r\n                  {{ order.status }}\r\n                </va-chip>\r\n              </td>\r\n              <!-- 삭제 버튼은 영업 권한이 있을 때만 -->\r\n              <td v-if=\"canManageSales\" style=\"text-align: center;\">\r\n                <va-button \r\n                  icon=\"delete\" \r\n                  preset=\"plain\" \r\n                  size=\"medium\"\r\n                  color=\"danger\"\r\n                  @click.stop=\"deleteOrder(order)\"\r\n                  title=\"주문 삭제\"\r\n                />\r\n              </td>\r\n            </tr>\r\n            \r\n            <!-- 제품 목록 행 (펼쳐질 때만 표시) -->\r\n            <Transition name=\"accordion\">\r\n              <tr v-if=\"expandedOrders.includes(order.orderId)\" class=\"product-details-row\">\r\n                <td :colspan=\"canManageSales ? 6 : 5\">\r\n                  <table class=\"product-table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>제품명</th>\r\n                        <th>규격</th>\r\n                        <th>수량</th>\r\n                        <th>제품코드</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"item in order.items\" :key=\"item.productCode\">\r\n                        <td>{{ item.productName }}</td>\r\n                        <td>{{ item.productStand }}</td>\r\n                        <td>{{ item.quantity }}</td>\r\n                        <td>{{ item.productCode }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </td>\r\n              </tr>\r\n            </Transition>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <!-- 주문 등록/수정 폼 (영업 권한만) -->\r\n    <div class=\"form-section\" v-if=\"canManageSales\">\r\n      <h2>{{ editMode ? '주문 수정' : '주문 등록' }}</h2>\r\n      \r\n      <!-- 기본 정보 -->\r\n      <div class=\"form-row\">\r\n        <div class=\"form-group\" style=\"width: 240px;\">\r\n          <label>거래처 <span class=\"required\">*</span></label>\r\n          <va-select\r\n            v-model=\"form.customerId\"\r\n            :options=\"customerOptions\"\r\n            placeholder=\"거래처를 선택하세요\"\r\n            style=\"width: 240px\"\r\n            text-by=\"label\"\r\n            value-by=\"value\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>주문일 <span class=\"required\">*</span></label>\r\n          <va-date-input v-model=\"form.orderDate\" />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>납기일 <span class=\"required\">*</span></label>\r\n          <va-date-input v-model=\"form.deliveryDate\" />\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>작성자</label> \r\n          <va-input v-model=\"form.createdBy\" placeholder=\"작성자명\" style=\"width: 250px;\"/>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 제품 정보 -->\r\n      <div class=\"products-section\">\r\n        <div class=\"section-header\">\r\n          <h3>제품 정보</h3>\r\n          <va-button size=\"small\" @click=\"addProduct\">제품 추가</va-button>\r\n        </div>\r\n        \r\n        <table class=\"product-table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 186px;\">제품명</th>\r\n              <th style=\"width: 120px;\">규격 (정)</th>\r\n              <th>제품코드</th>\r\n              <th>수량 (box)</th>\r\n              <th>단가 (원)</th>\r\n              <th>주문가격 (원)</th>\r\n              <th style=\"width: 50px; text-align: center;\">삭제</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(item, index) in form.products\" :key=\"index\">\r\n              <!-- 제품명 -->\r\n              <td>\r\n                <va-select\r\n                  v-model=\"item.productName\"\r\n                  :options=\"uniqueProductName\"\r\n                  placeholder=\"제품 선택\"\r\n                  @update:model-value=\"(val) => updateProduct(val, index)\"\r\n                />\r\n              </td>\r\n              <!-- 규격 -->\r\n              <td>\r\n                <va-select\r\n                  v-model=\"item.productStand\"\r\n                  :options=\"getProductStandOptions(item.productName)\"\r\n                  placeholder=\"규격 선택\"\r\n                  @update:model-value=\"(val) => updateProductByProductStand(item.productName, val, index)\"\r\n                  :disabled=\"!item.productName\"\r\n                />\r\n              </td>\r\n              <!-- 제품코드 -->\r\n              <td>{{ item.productCode }}</td>\r\n              <!-- 수량 -->\r\n              <td>\r\n                <va-input \r\n                  v-model.number=\"item.quantity\" \r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  @input=\"onQuantityInput(index)\"\r\n                />\r\n              </td>\r\n              <!-- 단가 -->\r\n              <td>\r\n                {{ item.unitPrice.toLocaleString() }}\r\n              </td>\r\n              <!-- 주문가격 -->\r\n              <td>\r\n                {{ computedOrderPrices[index].toLocaleString() }}\r\n              </td>\r\n              <td style=\"text-align: center;\">\r\n                <va-button \r\n                  icon=\"delete\" \r\n                  preset=\"plain\" \r\n                  size=\"medium\"\r\n                  color=\"danger\"\r\n                  @click=\"removeProduct(index)\"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- 버튼 -->\r\n      <div class=\"form-actions\">\r\n        <va-button preset=\"secondary\" @click=\"resetForm\">\r\n          <va-icon name=\"refresh\" class=\"mr-1\" />\r\n          초기화\r\n        </va-button>\r\n        <va-button preset=\"secondary\" @click=\"cancelForm\">취소</va-button>\r\n        <va-button @click=\"saveOrder\">{{ editMode ? '수정' : '저장' }}</va-button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 권한 없는 사용자를 위한 안내 섹션 -->\r\n    <div class=\"permission-info-section\" v-else>\r\n      <div class=\"permission-content\">\r\n        <va-icon name=\"shopping_cart\" size=\"large\" color=\"primary\" />\r\n        <h3>주문 관리 권한 필요</h3>\r\n        <p>주문 등록 및 수정은 영업부서 권한이 필요합니다.</p>\r\n        <div class=\"current-permission\">\r\n          <va-chip color=\"info\" size=\"small\">\r\n            현재 권한: {{ userRole || '조회 전용' }}\r\n          </va-chip>\r\n        </div>\r\n        <p class=\"permission-desc\">\r\n          주문 목록은 조회할 수 있지만,<br>\r\n          등록, 수정, 삭제는 영업부서만 가능합니다.\r\n        </p>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 주문 상태 변경 모달 -->\r\n    <va-modal\r\n      v-model=\"showStatusModal\"\r\n      title=\"주문 상태 변경\"\r\n      size=\"small\"\r\n      hide-default-actions\r\n    >\r\n      <div class=\"status-modal-content\">\r\n        <div class=\"current-status\">\r\n          <p><strong>주문번호:</strong> {{ selectedOrderForStatus?.orderId }}</p>\r\n          <p><strong>거래처:</strong> {{ selectedOrderForStatus?.customerName }}</p>\r\n          <p><strong>현재 상태:</strong> \r\n            <va-chip :color=\"getStatusColor(selectedOrderForStatus?.status)\" size=\"small\">\r\n              {{ selectedOrderForStatus?.status }}\r\n            </va-chip>\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <label>변경할 상태 <span class=\"required\">*</span></label>\r\n          <va-select\r\n            v-model=\"statusForm.newStatus\"\r\n            :options=\"statusOptions\"\r\n            placeholder=\"상태를 선택하세요\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <template #footer>\r\n        <div class=\"modal-footer\">\r\n          <va-button preset=\"secondary\" @click=\"closeStatusModal\">\r\n            취소\r\n          </va-button>\r\n          <va-button @click=\"updateOrderStatus\" :loading=\"statusLoading\">\r\n            변경\r\n          </va-button>\r\n        </div>\r\n      </template>\r\n    </va-modal>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport axios from 'axios'\r\nimport { useAuthStore } from '@/stores/authStore'\r\n\r\n// 인증 스토어 사용\r\nconst authStore = useAuthStore()\r\nconst { canManageSales, userRole } = authStore\r\n\r\n// 데이터\r\nconst orders = ref<any[]>([])\r\nconst customers = ref<any[]>([])\r\nconst products = ref<any[]>([])\r\n\r\n// 상태\r\nconst searchText = ref('')\r\nconst editMode = ref(false)\r\nconst selectedOrderId = ref<number | null>(null)\r\n\r\n// 상태 모달 관련 데이터\r\nconst showStatusModal = ref(false)\r\nconst selectedOrderForStatus = ref<any | null>(null)\r\nconst statusLoading = ref(false)\r\n\r\nconst statusForm = ref({\r\n  newStatus: ''\r\n})\r\n\r\nconst statusOptions = ref([\r\n  '대기',\r\n  '진행중', \r\n  '완료',\r\n  '지연',\r\n  '취소'\r\n])\r\n\r\n// 날짜 포맷팅\r\nconst formatDateToYMD = (date: string | Date): string => {\r\n  const d = new Date(date);\r\n  const year = d.getFullYear();\r\n  const month = ('0' + (d.getMonth() + 1)).slice(-2);\r\n  const day = ('0' + d.getDate()).slice(-2);\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\n// 펼쳐진 주문 목록 관리\r\nconst expandedOrders = ref<number[]>([])\r\n\r\n// 주문 펼치기/접기 토글 함수\r\nconst toggleOrder = (orderId: number) => {\r\n  const index = expandedOrders.value.indexOf(orderId)\r\n  if (index > -1) {\r\n    expandedOrders.value.splice(index, 1) // 접기\r\n  } else {\r\n    expandedOrders.value.push(orderId) // 펼치기\r\n  }\r\n}\r\n\r\n// 같은 주문번호 그룹(아코디언)\r\ninterface OrderItem {\r\n  productName: string;\r\n  productStand: string;\r\n  quantity: number;\r\n  productCode: string;\r\n}\r\n\r\ninterface GroupedOrder {\r\n  orderId: number;\r\n  customerName: string;\r\n  orderDate: string;\r\n  deliveryDate: string;\r\n  status: string;\r\n  items: OrderItem[];\r\n}\r\n\r\nconst groupedOrders = computed<GroupedOrder[]>(() => {\r\n  const grouped: Record<string, GroupedOrder> = {};\r\n\r\n  filteredOrders.value.forEach(order => {\r\n    const orderId = order.order_id;\r\n\r\n    if (!grouped[orderId]) {\r\n      grouped[orderId] = {\r\n        orderId: orderId,\r\n        customerName: order.account_name,\r\n        orderDate: order.order_date,\r\n        deliveryDate: order.delivery_date,\r\n        status: order.status,\r\n        items: []\r\n      };\r\n    }\r\n\r\n    grouped[orderId].items.push({\r\n      productName: order.product_name,\r\n      productStand: order.product_stand,\r\n      quantity: order.order_qty,\r\n      productCode: order.product_code\r\n    });\r\n  });\r\n\r\n  return Object.values(grouped);\r\n});\r\n\r\n// 폼 데이터\r\nconst form = ref({\r\n  customerId: '',\r\n  orderDate: new Date(),\r\n  deliveryDate: new Date(),\r\n  createdBy: '',\r\n  products: [\r\n    { \r\n      productCode: '', \r\n      productName: '', \r\n      productStand: '', \r\n      quantity: 1,\r\n      unitPrice: 0\r\n    }\r\n  ]\r\n})\r\n\r\n// computed\r\nconst filteredOrders = computed(() => {\r\n  if (!searchText.value) return orders.value\r\n  \r\n  const search = searchText.value.toLowerCase()\r\n  return orders.value.filter(order => \r\n    String(order.order_id).toLowerCase().includes(search) ||\r\n    order.account_name.toLowerCase().includes(search)\r\n  )\r\n})\r\n\r\n// 거래처 선택 드롭다운(고객사만 나오게)\r\nconst customerOptions = computed(() => \r\n  customers.value\r\n  .filter(c=> c.account_type == 'customer')\r\n  .map(c => ({\r\n    value: c.account_id,\r\n    label: c.account_name\r\n  }))\r\n)\r\n\r\nconst uniqueProductName = computed(() => {\r\n  // 제품명 중복제거\r\n  const uniqueNames = [...new Set(products.value.map(p => p.product_name))]\r\n  return uniqueNames\r\n})\r\n\r\n// 제품 규격 선택\r\nfunction getProductStandOptions(productName: string) {\r\n  if (!productName) {\r\n    return []\r\n  }\r\n  \r\n  return products.value\r\n    .filter(p => p.product_name === productName)\r\n    .map(p => (p.product_stand))\r\n}\r\n\r\n// 수량 마이너스 선택 못하게!\r\nfunction onQuantityInput(index: number) {\r\n  const q = form.value.products[index].quantity\r\n  if(q<1 || isNaN(q)) {\r\n    form.value.products[index].quantity = 1\r\n  }\r\n}\r\n\r\n// 주문 가격 computed\r\nconst computedOrderPrices = computed(() => {\r\n  return form.value.products.map(item => item.unitPrice * item.quantity)\r\n})\r\n\r\n// 상태 모달 함수들\r\nfunction openStatusModal(order: GroupedOrder) {\r\n  if (!canManageSales) {\r\n    alert('주문 상태 변경 권한이 없습니다.')\r\n    return\r\n  }\r\n\r\n  selectedOrderForStatus.value = order\r\n  statusForm.value.newStatus = ''\r\n  showStatusModal.value = true\r\n}\r\n\r\nfunction closeStatusModal() {\r\n  showStatusModal.value = false\r\n  selectedOrderForStatus.value = null\r\n}\r\n\r\nasync function updateOrderStatus() {\r\n  if (!statusForm.value.newStatus) {\r\n    alert('변경할 상태를 선택하세요.')\r\n    return\r\n  }\r\n\r\n  if (statusForm.value.newStatus === selectedOrderForStatus.value?.status) {\r\n    alert('현재 상태와 동일한 상태로는 변경할 수 없습니다.')\r\n    return\r\n  }\r\n\r\n  try {\r\n    statusLoading.value = true\r\n\r\n    const statusData = {\r\n      newStatus: statusForm.value.newStatus\r\n    }\r\n\r\n    await axios.put(`/orders/${selectedOrderForStatus.value!.orderId}/status`, statusData)\r\n    \r\n    alert('주문 상태가 변경되었습니다.')\r\n    closeStatusModal()\r\n    \r\n    // 주문 목록 새로고침\r\n    await fetchOrders()\r\n\r\n  } catch (error: any) {\r\n    console.error('상태 변경 실패:', error)\r\n    alert(`상태 변경에 실패했습니다.\\n${error.response?.data?.message || '알 수 없는 오류'}`)\r\n  } finally {\r\n    statusLoading.value = false\r\n  }\r\n}\r\n\r\n// 초기 데이터 로드\r\nonMounted(() => {\r\n  console.log('컴포넌트 마운트됨')\r\n  fetchOrders()\r\n  fetchCustomers()\r\n  fetchProducts()\r\n})\r\n\r\n// API 함수들\r\nasync function fetchOrders() {\r\n  try {\r\n    const response = await axios.get('/orders/with-items')\r\n    console.log('주문 데이터:', response.data)\r\n    orders.value = response.data || []\r\n  } catch (error) {\r\n    console.error('주문 조회 실패:', error)\r\n    // Mock 데이터\r\n    orders.value = [\r\n      {\r\n        order_id: 1,\r\n        account_name: '셀트리온',\r\n        order_date: '2024-01-15',\r\n        delivery_date: '2024-01-20',\r\n        product_name: '타이레놀 500mg',\r\n        product_stand: '10정',\r\n        order_qty: 100,\r\n        product_code: 'TYL500',\r\n        status: '진행중'\r\n      },\r\n      {\r\n        order_id: 2,\r\n        account_name: '한미약품',\r\n        order_date: '2024-01-16',\r\n        delivery_date: '2024-01-22',\r\n        product_name: '아스피린 100mg',\r\n        product_stand: '30정',\r\n        order_qty: 200,\r\n        product_code: 'ASP100',\r\n        status: '완료'\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nasync function fetchCustomers() {\r\n  try {\r\n    const response = await axios.get('/account')\r\n    console.log('거래처 데이터:', response.data)\r\n    customers.value = response.data || []\r\n  } catch (error) {\r\n    console.error('거래처 조회 실패:', error)\r\n    // Mock 데이터 추가\r\n    customers.value = [\r\n      { account_id: 1, account_name: '셀트리온', account_type: 'customer' },\r\n      { account_id: 2, account_name: '한미약품', account_type: 'customer' }\r\n    ]\r\n  }\r\n}\r\n\r\nasync function fetchProducts() {\r\n  try {\r\n    const response = await axios.get('/product')\r\n    console.log('제품 데이터:', response.data)\r\n    products.value = response.data || []\r\n  } catch (error) {\r\n    console.error('제품 조회 실패:', error)\r\n    // Mock 데이터 추가\r\n    products.value = [\r\n      { product_id: 1, product_name: '타이레놀 500mg', product_stand: '10정', product_code: 'TYL500', product_pay: 5000 },\r\n      { product_id: 2, product_name: '아스피린 100mg', product_stand: '30정', product_code: 'ASP100', product_pay: 3000 }\r\n    ]\r\n  }\r\n}\r\n\r\n// 검색\r\nfunction handleSearch() {\r\n  // filteredOrders computed가 자동으로 처리\r\n}\r\n\r\n// 주문 수정\r\nasync function editOrder(order: GroupedOrder) {\r\n  if (!canManageSales) {\r\n    console.log('주문 수정 권한이 없습니다.')\r\n    return\r\n  }\r\n\r\n  console.log('주문 수정:', order)\r\n  editMode.value = true\r\n  selectedOrderId.value = order.orderId\r\n  \r\n  try {\r\n    const response = await axios.get(`/orders/${order.orderId}/details`)\r\n    console.log('서버 응답 데이터: ', response.data)\r\n    const { order: orderInfo, items } = response.data\r\n    \r\n    // 거래처 ID 찾기\r\n    const customer = customers.value.find(c => c.account_name === order.customerName)\r\n    \r\n    form.value = {\r\n      customerId: customer?.account_id || '',\r\n      orderDate: new Date(orderInfo.order_date),\r\n      deliveryDate: new Date(orderInfo.delivery_date),\r\n      createdBy: orderInfo.created_by || '',\r\n      products: items.map((item: any) => ({\r\n        productName: item.product_name,\r\n        productStand: item.product_stand,\r\n        productCode: item.product_code,\r\n        quantity: item.order_qty,\r\n        unitPrice: item.unit_price || 0\r\n      }))\r\n    }\r\n\r\n    console.log('폼 데이터 설정 완료: ', form.value)\r\n\r\n  } catch (error) {\r\n    console.error('주문 상세 조회 실패:', error)\r\n    // API 실패시 목업 데이터로 폼 채우기\r\n    const customer = customers.value.find(c => c.account_name === order.customerName)\r\n    \r\n    form.value = {\r\n      customerId: customer?.account_id || '',\r\n      orderDate: new Date(order.orderDate),\r\n      deliveryDate: new Date(order.deliveryDate),\r\n      createdBy: '관리자',\r\n      products: order.items.map(item => {\r\n        const product = products.value.find(p => \r\n          p.product_name === item.productName && \r\n          p.product_stand === item.productStand\r\n        )\r\n        return {\r\n          productName: item.productName,\r\n          productStand: item.productStand,\r\n          productCode: item.productCode,\r\n          quantity: item.quantity,\r\n          unitPrice: product?.product_pay || 0\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 주문 선택시 토글&수정폼\r\nfunction handleOrderClick(order: GroupedOrder){\r\n  console.log('클릭된 order 데이터: ',order)\r\n  toggleOrder(order.orderId)\r\n  \r\n  // 영업 권한이 있을 때만 수정 폼 로드\r\n  if (canManageSales) {\r\n    editOrder(order)\r\n  }\r\n}\r\n\r\n// 주문 삭제\r\nasync function deleteOrder(order: GroupedOrder) {\r\n  if (!canManageSales) {\r\n    alert('주문 관리 권한이 없습니다.')\r\n    return\r\n  }\r\n\r\n  if (!confirm(`주문번호 ${order.orderId}를 정말 삭제하시겠습니까?`)) return\r\n  \r\n  try {\r\n    await axios.delete(`/orders/${order.orderId}`)\r\n    alert('삭제되었습니다.')\r\n    \r\n    // 삭제한 주문이 선택된 상태였다면 폼 초기화\r\n    if (selectedOrderId.value === order.orderId) {\r\n      resetForm()\r\n    }\r\n    \r\n    fetchOrders()\r\n  } catch (error) {\r\n    console.error('삭제 실패:', error)\r\n    alert('삭제에 실패했습니다.')\r\n  }\r\n}\r\n\r\nfunction addProduct() {\r\n  form.value.products.push({\r\n    productName: '',\r\n    productStand: '',\r\n    quantity: 1,\r\n    productCode: '',\r\n    unitPrice: 0\r\n  })\r\n}\r\n\r\nfunction removeProduct(index: number) {\r\n  if (form.value.products.length > 1) {\r\n    form.value.products.splice(index, 1)\r\n  }\r\n}\r\n\r\n// 제품 선택 시 정보 업데이트\r\nfunction updateProduct(productName: string, index: number) {\r\n  const product = products.value.find(p => p.product_name == productName)\r\n  if (product) {\r\n    form.value.products[index] = {\r\n      productCode: '',\r\n      productName: product.product_name,\r\n      productStand: '',\r\n      quantity: form.value.products[index].quantity || 1,\r\n      unitPrice: 0\r\n    }\r\n  }\r\n}\r\n\r\n// 제품명, 규격 선택 시 나머지 데이터 자동입력\r\nfunction updateProductByProductStand(productName: string, productStand: string, index: number){\r\n  console.log('규격 업데이트 됨!')\r\n  const product = products.value.find(\r\n    p => p.product_name === productName && p.product_stand === productStand\r\n  )\r\n  if (product){\r\n    const quantity = form.value.products[index].quantity\r\n    const unitPrice = product.product_pay\r\n\r\n    form.value.products[index] = {\r\n      productCode: product.product_code,\r\n      productName: product.product_name,\r\n      productStand: product.product_stand,\r\n      quantity: quantity,\r\n      unitPrice: unitPrice\r\n    }\r\n  }\r\n}\r\n\r\n// 폼 초기화\r\nfunction resetForm() {\r\n  form.value = {\r\n    customerId: '',\r\n    orderDate: new Date(),\r\n    deliveryDate: new Date(),\r\n    createdBy: '',\r\n    products: [\r\n      { \r\n        productName: '', \r\n        productStand: '', \r\n        quantity: 1, \r\n        productCode: '',\r\n        unitPrice: 0 \r\n      }\r\n    ]\r\n  }\r\n  editMode.value = false\r\n  selectedOrderId.value = null\r\n}\r\n\r\n// 저장\r\nasync function saveOrder() {\r\n  if (!canManageSales) {\r\n    alert('주문 관리 권한이 없습니다.')\r\n    return\r\n  }\r\n\r\n  // 유효성 검사\r\n  if (!form.value.customerId) {\r\n    alert('거래처를 선택하세요.')\r\n    return\r\n  }\r\n  \r\n  if (form.value.products.some(p => !p.productCode)) {\r\n    alert('제품 정보를 모두 입력하세요.')\r\n    return\r\n  }\r\n  \r\n  if (editMode.value) {\r\n    // 수정모드\r\n    // 날짜를 YYYY-MM-DD 형식으로 변환\r\n    const formatDateForAPI = (date: Date) => {\r\n      const d = new Date(date);\r\n      const year = d.getFullYear();\r\n      const month = ('0' + (d.getMonth() + 1)).slice(-2);\r\n      const day = ('0' + d.getDate()).slice(-2);\r\n      return `${year}-${month}-${day}`;\r\n    }\r\n    \r\n    const orderData = {\r\n      account_id: form.value.customerId,\r\n      order_date: formatDateForAPI(form.value.orderDate),\r\n      delivery_date: formatDateForAPI(form.value.deliveryDate),\r\n      created_by: form.value.createdBy || '관리자',\r\n      status: '진행중',\r\n      products: form.value.products.map((p, index) => ({\r\n        product_code: p.productCode,\r\n        order_qty: p.quantity,\r\n        order_price: computedOrderPrices.value[index]\r\n      }))\r\n    }\r\n\r\n    try {\r\n      await axios.put(`/orders/${selectedOrderId.value}`, orderData)\r\n      alert('수정되었습니다.')\r\n      resetForm()\r\n      fetchOrders()\r\n    } catch (error: any) {\r\n      console.error('수정 실패:', error)\r\n      alert(`수정에 실패했습니다.\\n${error.response?.data?.message || error.message || '알 수 없는 오류'}`)\r\n    }\r\n  } else {\r\n    // 등록모드 - addOrderTransaction이 기대하는 형식으로\r\n    const orderData = {\r\n      customerId: {\r\n        value: form.value.customerId\r\n      },\r\n      orderDate: form.value.orderDate,\r\n      deliveryDate: form.value.deliveryDate,\r\n      createdBy: form.value.createdBy || '관리자',\r\n      products: form.value.products.map((p, index) => ({\r\n        productCode: p.productCode,\r\n        quantity: p.quantity,\r\n        orderPrice: computedOrderPrices.value[index]\r\n      }))\r\n    }\r\n\r\n    console.log('저장할 데이터:', orderData)\r\n    \r\n    try {\r\n      await axios.post('/orders', orderData)\r\n      alert('등록되었습니다.')\r\n      resetForm()\r\n      fetchOrders()\r\n    } catch (error: any) {\r\n      console.error('저장 실패:', error)\r\n      console.error('에러 상세:', error.response?.data)\r\n      alert(`저장에 실패했습니다.\\n${error.response?.data?.message || error.message || '알 수 없는 오류'}`)\r\n    }\r\n  }\r\n}\r\n\r\n// 취소\r\nfunction cancelForm() {\r\n  resetForm()\r\n}\r\n\r\n// 날짜 포맷\r\nfunction formatDate(dateString: string) {\r\n  if (!dateString) return '-'\r\n  return dateString.split('T')[0]\r\n}\r\n\r\n// 상태별 색상\r\nfunction getStatusColor(status: string) {\r\n  const colors: Record<string, string> = {\r\n    '진행중': 'info',\r\n    '완료': 'success',\r\n    '지연': 'danger',\r\n    '대기': 'warning',\r\n    '취소': 'secondary'\r\n  }\r\n  return colors[status] || 'secondary'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.order-management {\r\n  padding: 20px;\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  min-width: 600px;\r\n}\r\n\r\nh1 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n/* 검색 영역 */\r\n.search-area {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n}\r\n\r\n.search-area .va-input {\r\n  width: 300px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n/* 테이블 섹션 */\r\n.table-section {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  overflow-x: auto;\r\n}\r\n\r\n.order-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.order-table th {\r\n  background: #f5f5f5;\r\n  padding: 12px;\r\n  text-align: left;\r\n  font-weight: 500;\r\n  border-bottom: 2px solid #e0e0e0;\r\n}\r\n\r\n.order-table td {\r\n  padding: 12px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.order-table tr:hover {\r\n  background: #f8f8f8;\r\n}\r\n\r\n.order-header-row.selected {\r\n  background-color: #e3f2fd;\r\n}\r\n\r\n.no-data {\r\n  text-align: center;\r\n  color: #999;\r\n}\r\n\r\n/* 클릭 가능한 상태 스타일 */\r\n.clickable-status {\r\n  cursor: pointer;\r\n  transition: transform 0.2s, box-shadow 0.2s;\r\n}\r\n\r\n.clickable-status:hover {\r\n  transform: translateY(-1px);\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.15);\r\n}\r\n\r\n/* 폼 섹션 */\r\n.form-section {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.form-section h2 {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-row {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr;\r\n  gap: 16px;\r\n}\r\n\r\n.required {\r\n  color: red;\r\n}\r\n\r\n/* 제품 섹션 */\r\n.products-section {\r\n  margin: 20px 0;\r\n  padding: 16px;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 4px;\r\n}\r\n\r\n.section-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.section-header h3 {\r\n  margin: 0;\r\n}\r\n\r\n.product-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  table-layout: fixed;\r\n}\r\n\r\n.product-table th {\r\n  background: #f5f5f5;\r\n  padding: 8px;\r\n  text-align: left;\r\n  font-weight: 500;\r\n  border: 1px solid #e0e0e0;\r\n}\r\n\r\n.product-table td {\r\n  padding: 8px;\r\n  border: 1px solid #e0e0e0;\r\n}\r\n\r\n/* 버튼 영역 */\r\n.form-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n}\r\n\r\n.new-order-button {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n\r\n/* 상태 모달 스타일 */\r\n.status-modal-content {\r\n  padding: 16px 0;\r\n}\r\n\r\n.current-status {\r\n  margin-bottom: 20px;\r\n  padding: 12px;\r\n  background-color: #f8f9fa;\r\n  border-radius: 6px;\r\n}\r\n\r\n.current-status p {\r\n  margin: 4px 0;\r\n  font-size: 14px;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n/* 권한 안내 섹션 */\r\n.permission-info-section {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 40px 20px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.permission-content {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.permission-content h3 {\r\n  margin: 16px 0;\r\n  color: #333;\r\n}\r\n\r\n.permission-content p {\r\n  color: #666;\r\n  line-height: 1.5;\r\n  margin: 12px 0;\r\n}\r\n\r\n.current-permission {\r\n  margin: 16px 0;\r\n}\r\n\r\n.permission-desc {\r\n  font-size: 14px;\r\n}\r\n\r\n/* 반응형 */\r\n@media (max-width: 1420px) {\r\n  .form-row {\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n  }\r\n\r\n  .search-area {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n}\r\n\r\n@media (max-width: 1180px) {\r\n  .form-row {\r\n    grid-template-columns: 1fr 1fr;\r\n  }\r\n\r\n  .search-area {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .form-row {\r\n    grid-template-columns: 1fr;\r\n  }\r\n  \r\n  .search-area {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n}\r\n\r\n.order-header-row {\r\n  cursor: pointer;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.order-header-row:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.product-details-row {\r\n  background-color: #fafafa;\r\n}\r\n\r\n.product-details-content {\r\n  overflow: hidden;\r\n}\r\n\r\n/* 제품목록 흘러내리는 애니메이션 */\r\n.accordion-enter-active {\r\n  animation: slideDown 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\r\n}\r\n\r\n.accordion-leave-active {\r\n  animation: slideUp 0.3s cubic-bezier(0.55, 0.085, 0.68, 0.53);\r\n}\r\n\r\n@keyframes slideDown {\r\n  0% {\r\n    max-height: 0;\r\n    opacity: 0;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n  }\r\n  100% {\r\n    max-height: 400px;\r\n    opacity: 1;\r\n    transform: scaleY(1);\r\n    transform-origin: top;\r\n  }\r\n}\r\n\r\n@keyframes slideUp {\r\n  0% {\r\n    max-height: 400px;\r\n    opacity: 1;\r\n    transform: scaleY(1);\r\n    transform-origin: top;\r\n  }\r\n  100% {\r\n    max-height: 0;\r\n    opacity: 0;\r\n    transform: scaleY(0);\r\n    transform-origin: top;\r\n  }\r\n}\r\n\r\n.product-table {\r\n  width: 100%;\r\n  margin: 10px 0;\r\n}\r\n\r\n.product-table th,\r\n.product-table td {\r\n  padding: 8px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n</style>"],"names":["authStore","useAuthStore","canManageSales","userRole","orders","ref","customers","products","searchText","editMode","selectedOrderId","showStatusModal","selectedOrderForStatus","statusLoading","statusForm","statusOptions","formatDateToYMD","date","d","year","month","day","expandedOrders","toggleOrder","orderId","index","groupedOrders","computed","grouped","filteredOrders","order","form","search","customerOptions","c","uniqueProductName","p","getProductStandOptions","productName","onQuantityInput","q","computedOrderPrices","item","openStatusModal","closeStatusModal","updateOrderStatus","_a","statusData","axios","fetchOrders","error","_c","_b","onMounted","fetchCustomers","fetchProducts","response","handleSearch","editOrder","orderInfo","items","customer","product","handleOrderClick","deleteOrder","resetForm","addProduct","removeProduct","updateProduct","updateProductByProductStand","productStand","quantity","unitPrice","saveOrder","formatDateForAPI","orderData","_e","_d","cancelForm","getStatusColor","status","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_createVNode","_component_va_input","$event","_component_va_button","_unref","_hoisted_3","_component_va_alert","_hoisted_4","_hoisted_5","_hoisted_6","_Fragment","_renderList","_toDisplayString","_component_va_chip","_withModifiers","_createTextVNode","_hoisted_8","_Transition","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_component_va_select","_hoisted_15","_component_va_date_input","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","val","_hoisted_21","_hoisted_22","_component_va_icon","_hoisted_23","_hoisted_24","_hoisted_25","_component_va_modal","_hoisted_29","_hoisted_26","_hoisted_27","_hoisted_28"],"mappings":"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"}