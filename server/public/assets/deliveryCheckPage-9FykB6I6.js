import{d as F,n as b,o as N,e as m,f as P,p as L,i as s,j as o,w as p,v as q,m as g,t as B,_ as I}from"./index-BJgCI8mH.js";const T={class:"order-search-page"},Y={class:"search-section"},$={class:"search-form"},A={class:"button-group"},S={class:"result-section"},j={class:"table-wrapper"},V=5,E=F({__name:"deliveryCheckPage",setup(z){const l=b({outbound_id:"",material_code:"",material_name:"",material_unit:"",material_cls:"",outbound_date:null,outbound_qty:"",lot_number:""}),r=b([]),_=b([]),d=b(1),y=t=>{if(!t)return"";const e=typeof t=="string"?new Date(t):t;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`},f=[{key:"outbound_id",label:"발주코드"},{key:"material_code",label:"자재코드"},{key:"material_name",label:"자재명"},{key:"material_unit",label:"단위"},{key:"material_cls",label:"분류"},{key:"outbound_date",label:"출고 일자"},{key:"outbound_qty",label:"출고 수량"},{key:"lot_number",label:"LOT 번호"}],k=async()=>{try{const t=await q.get("/deliveryCheck");_.value=Array.isArray(t.data)?t.data:[],r.value=[..._.value],console.log("allOrders: ",t.data),console.log("order: ",r.value)}catch(t){console.error("계획 조회 실패",t),_.value=[]}};function D(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function M(){const{outbound_id:t,material_code:e,material_name:n,outbound_date:c,material_cls:i,lot_number:v}=l.value;r.value=_.value.filter(u=>{const a=!t||u.outbound_id.includes(t),h=!e||u.material_code.includes(e),w=!n||u.material_name.includes(n),U=!i||u.material_cls.includes(i),x=!v||u.lot_number.includes(v),O=!c||D(new Date(u.outbound_date),new Date(c));return a&&h&&w&&U&&O&&x}),d.value=1}function C(){l.value={outbound_id:"",material_code:"",material_name:"",material_unit:"",material_cls:"",outbound_date:null,outbound_qty:"",lot_number:""}}return N(()=>{k()}),(t,e)=>{const n=m("va-input"),c=m("va-date-input"),i=m("va-button"),v=m("va-data-table"),u=m("va-pagination");return P(),L("div",T,[s("div",Y,[e[10]||(e[10]=s("h3",{class:"section-title"},"출고 조회",-1)),s("div",$,[o(n,{modelValue:l.value.outbound_id,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.outbound_id=a),label:"출고코드"},null,8,["modelValue"]),o(c,{modelValue:l.value.outbound_date,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.outbound_date=a),label:"출고일자","manual-input":!1,clearable:!0},null,8,["modelValue"]),o(n,{modelValue:l.value.material_code,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.material_code=a),label:"자재코드"},null,8,["modelValue"]),o(n,{modelValue:l.value.material_name,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.material_name=a),label:"자재명"},null,8,["modelValue"]),o(n,{modelValue:l.value.material_cls,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.material_cls=a),label:"분류"},null,8,["modelValue"]),o(n,{modelValue:l.value.lot_number,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.lot_number=a),label:"LOT번호"},null,8,["modelValue"]),s("div",A,[o(i,{onClick:M},{default:p(()=>e[8]||(e[8]=[g(" 조회 ")])),_:1,__:[8]}),o(i,{color:"secondary",onClick:C},{default:p(()=>e[9]||(e[9]=[g(" 초기화 ")])),_:1,__:[9]})])])]),s("div",S,[e[11]||(e[11]=s("h3",{class:"section-title"},"출고 리스트",-1)),s("div",j,[o(v,{"current-page":d.value,"onUpdate:currentPage":e[6]||(e[6]=a=>d.value=a),items:r.value,columns:f,"per-page":V},{"cell(outbound_date)":p(({row:a})=>[g(B(y(a.source.outbound_date)),1)]),_:1},8,["current-page","items"]),o(u,{modelValue:d.value,"onUpdate:modelValue":e[7]||(e[7]=a=>d.value=a),pages:Math.max(1,Math.ceil(r.value.length/V)),class:"mt-2"},null,8,["modelValue","pages"])])])])}}}),H=I(E,[["__scopeId","data-v-ee9c49ae"]]);export{H as default};
//# sourceMappingURL=deliveryCheckPage-9FykB6I6.js.map
