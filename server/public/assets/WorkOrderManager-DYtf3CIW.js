import{n as k,o as U,f as i,p as _,i as e,D as v,E as w,F as D,y as O,t as u,v as C,_ as K,B as A,l as G,m as W,h as J,b as H,c as B,k as V,q as P,g as j,G as Q}from"./index-BJgCI8mH.js";const X={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Y={class:"bg-white rounded-lg w-[600px] h-[450px] flex flex-col"},Z={class:"flex justify-between items-center p-4 border-b"},ee={class:"p-4 border-b"},te={class:"flex-1 overflow-auto p-4"},re={class:"w-full text-sm"},oe={class:"border p-2"},se={class:"border p-2"},de={class:"border p-2"},le={class:"border p-2"},ae={class:"border p-2 text-center"},ne=["onClick"],ie={__name:"ProductSearchModal",emits:["select","close"],setup(q){const l=k(""),m=k([]),b=async()=>{try{const c=await C.get("/workOrder/products/search",{params:{q:l.value}});m.value=c.data||[]}catch{m.value=[]}};return U(()=>{b()}),(c,a)=>(i(),_("div",X,[e("div",Y,[e("div",Z,[a[2]||(a[2]=e("h3",{class:"text-lg font-semibold"},"제품 선택",-1)),e("button",{class:"text-xl",onClick:a[0]||(a[0]=r=>c.$emit("close"))},"×")]),e("div",ee,[v(e("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>l.value=r),placeholder:"제품명 또는 제품코드",class:"w-full px-3 py-2 border",onInput:b},null,544),[[w,l.value]])]),e("div",te,[e("table",re,[a[3]||(a[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"border p-2"},"제품코드"),e("th",{class:"border p-2"},"제품명"),e("th",{class:"border p-2"},"단위"),e("th",{class:"border p-2"},"규격"),e("th",{class:"border p-2"},"선택")])],-1)),e("tbody",null,[(i(!0),_(D,null,O(m.value,r=>(i(),_("tr",{key:r.product_code},[e("td",oe,u(r.product_code),1),e("td",se,u(r.product_name),1),e("td",de,u(r.product_unit),1),e("td",le,u(r.product_stand),1),e("td",ae,[e("button",{class:"px-2 py-1 bg-blue-500 text-white text-xs rounded",onClick:p=>c.$emit("select",r)}," 선택 ",8,ne)])]))),128))])])])])]))}},ue={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ce={class:"bg-white rounded-lg w-[700px] h-[500px] flex flex-col"},_e={class:"flex justify-between items-center p-4 border-b"},pe={class:"p-4 border-b"},be={class:"flex-1 overflow-auto p-4"},ye={class:"w-full text-sm"},xe={class:"border p-2"},me={class:"border p-2"},ge={class:"border p-2"},ve={class:"border p-2"},fe={class:"border p-2"},we={class:"border p-2 text-center"},ke=["onClick"],he={__name:"PlanSearchModal",emits:["select","close"],setup(q){const l=k(""),m=k([]),b=async()=>{try{const a=await C.get("/workOrder/plans/search",{params:{q:l.value}});m.value=a.data||[]}catch{m.value=[]}},c=a=>a?new Date(a).toLocaleDateString("ko-KR"):"-";return U(()=>{b()}),(a,r)=>(i(),_("div",ue,[e("div",ce,[e("div",_e,[r[2]||(r[2]=e("h3",{class:"text-lg font-semibold"},"계획 선택",-1)),e("button",{class:"text-xl",onClick:r[0]||(r[0]=p=>a.$emit("close"))},"×")]),e("div",pe,[v(e("input",{"onUpdate:modelValue":r[1]||(r[1]=p=>l.value=p),placeholder:"계획 ID또는 제품명 입력",class:"w-full px-3 py-2 border",onInput:b},null,544),[[w,l.value]])]),e("div",be,[e("table",ye,[r[3]||(r[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"border p-2"},"계획 ID"),e("th",{class:"border p-2"},"제품정보요약"),e("th",{class:"border p-2"},"총 수량"),e("th",{class:"border p-2"},"시작예정일"),e("th",{class:"border p-2"},"종료예정일"),e("th",{class:"border p-2"},"선택")])],-1)),e("tbody",null,[(i(!0),_(D,null,O(m.value,p=>(i(),_("tr",{key:p.plan_id},[e("td",xe,u(p.plan_id),1),e("td",me,u(p.product_summary),1),e("td",ge,u(p.total_qty),1),e("td",ve,u(c(p.plan_start_dt)),1),e("td",fe,u(c(p.plan_end_dt)),1),e("td",we,[e("button",{class:"px-2 py-1 bg-blue-500 text-white text-xs rounded",onClick:M=>a.$emit("select",p)}," 선택 ",8,ke)])]))),128))])])])])]))}},$e={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Pe={class:"bg-white rounded-lg w-[800px] h-[600px] flex flex-col"},Ce={class:"flex justify-between items-center p-4 border-b"},Me={class:"p-4 border-b"},Se={class:"flex gap-2"},Ve=["disabled"],Ue={class:"flex-1 overflow-auto p-4"},De={key:0,class:"text-center py-8 text-gray-500"},Oe={key:1,class:"text-center py-8 text-gray-500"},qe={key:2,class:"text-center py-8 text-gray-500"},Ie={key:3},Te={class:"overflow-auto border border-gray-200 rounded"},je={class:"w-full text-sm border-collapse bg-white"},We=["onClick"],Be={class:"border border-gray-200 px-3 py-2 font-medium"},Ke={class:"border border-gray-200 px-3 py-2"},Ne={class:"border border-gray-200 px-3 py-2 text-center"},Re={class:"border border-gray-200 px-3 py-2 text-center"},ze={class:"border border-gray-200 px-3 py-2 text-center"},Ee={class:"border border-gray-200 px-3 py-2 text-center"},Fe=["onClick"],Le={class:"p-4 border-t flex justify-between items-center"},Ae={class:"text-sm text-gray-500"},Ge={__name:"WorkOrderSearchModal",emits:["select","close"],setup(q,{emit:l}){const m=l,b=k(""),c=k([]),a=k(!1),r=k(null),p=async()=>{a.value=!0;try{const f=await C.get("/workOrder/search",{params:{q:b.value}});c.value=f.data||[]}catch(f){console.error("작업지시서 검색 오류:",f),alert("작업지시서 검색에 실패했습니다."),c.value=[]}finally{a.value=!1}},M=()=>{b.value="",p()},h=f=>{m("select",f)},S=f=>{if(!f)return"-";try{return new Date(f).toLocaleDateString("ko-KR")}catch{return"-"}};return U(async()=>{await p(),A(()=>{r.value&&r.value.focus()})}),(f,y)=>(i(),_("div",$e,[e("div",Pe,[e("div",Ce,[y[3]||(y[3]=e("h2",{class:"text-lg font-semibold text-gray-800"},"작업지시서 검색",-1)),e("button",{class:"text-gray-500 hover:text-gray-700 text-xl",onClick:y[0]||(y[0]=g=>f.$emit("close"))}," × ")]),e("div",Me,[e("div",Se,[v(e("input",{ref_key:"searchInput",ref:r,"onUpdate:modelValue":y[1]||(y[1]=g=>b.value=g),class:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"작업지시서 번호 또는 제품명으로 검색",onKeyup:G(p,["enter"])},null,544),[[w,b.value]]),e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",disabled:a.value,onClick:p},u(a.value?"검색중...":"검색"),9,Ve),e("button",{class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 text-sm",onClick:M}," 전체 ")])]),e("div",Ue,[a.value?(i(),_("div",De," 검색 중... ")):c.value.length===0&&b.value?(i(),_("div",Oe,[y[4]||(y[4]=W(' "')),e("strong",null,u(b.value),1),y[5]||(y[5]=W('"에 대한 검색 결과가 없습니다. '))])):c.value.length===0?(i(),_("div",qe," 등록된 작업지시서가 없습니다. ")):(i(),_("div",Ie,[e("div",Te,[e("table",je,[y[6]||(y[6]=e("thead",{class:"bg-gray-50 sticky top-0"},[e("tr",null,[e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700"}," 작업지시서 번호 "),e("th",{class:"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700"}," 제품정보 "),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700"}," 작성일 "),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700"}," 시작예정일 "),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700"}," 종료예정일 "),e("th",{class:"border border-gray-200 px-3 py-2 text-center font-medium text-gray-700"}," 선택 ")])],-1)),e("tbody",null,[(i(!0),_(D,null,O(c.value,g=>(i(),_("tr",{key:g.work_order_no,class:"hover:bg-blue-50 cursor-pointer transition-colors",onClick:I=>h(g)},[e("td",Be,u(g.work_order_no),1),e("td",Ke,u(g.product_summary||"제품 정보 없음"),1),e("td",Ne,u(S(g.write_date)),1),e("td",Re,u(S(g.order_start_dt)||"-"),1),e("td",ze,u(S(g.order_end_dt)||"-"),1),e("td",Ee,[e("button",{class:"px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",onClick:J(I=>h(g),["stop"])}," 선택 ",8,Fe)])],8,We))),128))])])])]))]),e("div",Le,[e("div",Ae,u(c.value.length>0?`총 ${c.value.length}개의 작업지시서`:""),1),e("button",{class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 text-sm",onClick:y[2]||(y[2]=g=>f.$emit("close"))}," 취소 ")])])]))}},Je=K(Ge,[["__scopeId","data-v-c2fc33b5"]]),He={class:"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden"},Qe={class:"h-[calc(100%-60px)] bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Xe={class:"grid grid-cols-3 gap-3 mb-4"},Ye={class:"flex"},Ze={class:"flex"},et={class:"grid grid-cols-4 gap-3 mb-4"},tt={class:"flex flex-col h-[calc(100%-140px)]"},rt={class:"flex justify-between items-center mb-3"},ot={key:0,class:"flex gap-2"},st=["disabled"],dt={class:"flex-1 overflow-auto border border-gray-200 rounded mb-4"},lt={class:"w-full text-xs border-collapse bg-white"},at={class:"bg-gray-50 sticky top-0"},nt={key:0,class:"border border-gray-200 px-2 py-1.5 text-center font-medium text-gray-700"},it={key:0,class:"border border-gray-200 px-2 py-1.5 text-center"},ut=["onUpdate:modelValue"],ct={class:"border border-gray-200 px-2 py-1.5"},_t={class:"border border-gray-200 px-2 py-1.5"},pt={class:"border border-gray-200 px-2 py-1.5"},bt={class:"border border-gray-200 px-2 py-1.5"},yt={class:"border border-gray-200 px-2 py-1.5"},xt={class:"border border-gray-200 px-2 py-1.5"},mt=["onUpdate:modelValue"],gt={class:"border border-gray-200 px-2 py-1.5"},vt=["onUpdate:modelValue"],ft={class:"border border-gray-200 px-2 py-1.5"},wt=["onUpdate:modelValue"],kt={key:0,class:"flex gap-3 justify-center"},ht=["disabled"],$t={__name:"WorkOrderManager",setup(q){const l=H(),m=k(!1),b=k(!1),c=k(!1),a=k(!1),r=k({work_order_no:"",plan_id:"",writer_id:"",writer_name:"",write_date:"",order_start_dt:"",order_end_dt:"",order_remark:"",products:[]}),p=B(()=>r.value.products.some(d=>d.selected)),M=B(()=>r.value.writer_id&&r.value.products.length>0&&l.canManageProduction),h=(d="이 작업")=>l.canManageProduction?!0:(alert(l.getPermissionMessage("production")||"생산 관리 권한이 없습니다."),!1),S=()=>{b.value=!0},f=()=>{c.value=!0},y=()=>{h("제품 추가")&&(a.value=!0)},g=d=>{r.value.plan_id=d.plan_id,R(d.plan_id),c.value=!1},I=d=>{if(!h("제품 추가"))return;console.log("선택된 제품 데이터:",d);const t={product_code:d.product_code,product_name:d.product_name,product_unit:d.product_unit,product_stand:d.product_stand,process_group_code:d.process_group_code||"",work_order_qty:null,work_order_priority:null,order_detail_remark:"",selected:!1};console.log("추가될 제품 데이터:",t),r.value.products.push(t),a.value=!1},N=()=>{if(!h("제품 제거"))return;if(r.value.products.filter(t=>t.selected).length===0){alert("삭제할 제품을 선택해주세요.");return}r.value.products=r.value.products.filter(t=>!t.selected),T()},T=()=>{r.value.products.sort((d,t)=>d.work_order_priority&&t.work_order_priority?d.work_order_priority-t.work_order_priority:d.work_order_priority&&!t.work_order_priority?-1:!d.work_order_priority&&t.work_order_priority?1:0)},R=async d=>{try{const t=await C.get(`/workOrder/plan/${d}`);if(t.data&&t.data.length>0){const o=t.data[0];o.plan_start_dt&&(r.value.order_start_dt=o.plan_start_dt.split("T")[0]),o.plan_end_dt&&(r.value.order_end_dt=o.plan_end_dt.split("T")[0]),r.value.products=t.data.map(s=>({product_code:s.product_code,product_name:s.product_name,product_unit:s.product_unit,product_stand:s.product_stand,process_group_code:s.process_group_code||"",work_order_qty:s.plan_qty||null,work_order_priority:null,order_detail_remark:"",selected:!1})),console.log("계획 정보 불러오기 완료:",{plan_id:d,plan_start_dt:o.plan_start_dt,plan_end_dt:o.plan_end_dt,order_start_dt:r.value.order_start_dt,order_end_dt:r.value.order_end_dt,products_count:r.value.products.length})}}catch(t){console.error("계획 제품 조회 오류:",t),alert("계획 정보를 불러오는데 실패했습니다.")}},z=async()=>{var d,t,o;if(h("작업지시서 저장")){if(!M.value){alert("작성자, 제품을 모두 입력해주세요.");return}try{const s={master:{plan_id:r.value.plan_id||"",writer_id:r.value.writer_id||((d=l.user)==null?void 0:d.employee_id)||"",writer_name:r.value.writer_name||((t=l.user)==null?void 0:t.employee_name)||"",write_date:r.value.write_date,order_start_dt:r.value.order_start_dt||"",order_end_dt:r.value.order_end_dt||"",order_remark:r.value.order_remark||"",work_start_date:r.value.order_start_dt||""},products:r.value.products.map(x=>({product_code:x.product_code,work_order_qty:x.work_order_qty||null,work_order_priority:x.work_order_priority||null,order_detail_remark:x.order_detail_remark||"",process_group_code:x.process_group_code||"",work_order_date:r.value.order_start_dt}))};console.log("전송할 payload:",{...s,로그인사용자:(o=l.user)==null?void 0:o.employee_name,작성자ID:s.master.writer_id,작성자명:s.master.writer_name});let n;m.value?(s.master.work_order_no=r.value.work_order_no,n=await C.put("/workOrder",s),alert("작업지시서 수정 완료")):(n=await C.post("/workOrder",s),alert("작업지시서 등록 완료"),n.data&&n.data.work_order_no&&(r.value.work_order_no=n.data.work_order_no,m.value=!0)),console.log("서버 응답:",n.data)}catch(s){console.error("작업지시서 저장 오류:",s),s.response?(console.error("에러 상태:",s.response.status),console.error("에러 데이터:",s.response.data),s.response.data&&s.response.data.error?alert(`저장 실패: ${s.response.data.error}`):alert(`저장 실패 (${s.response.status}): ${JSON.stringify(s.response.data)}`)):alert("작업지시서 저장에 실패했습니다.")}}},E=()=>{var t,o,s;if(!h("폼 초기화"))return;const d=new Date().toISOString().split("T")[0];r.value={work_order_no:"",plan_id:"",writer_id:((o=(t=l.user)==null?void 0:t.employee_id)==null?void 0:o.toString())||"",writer_name:((s=l.user)==null?void 0:s.employee_name)||"",write_date:d,order_start_dt:"",order_end_dt:"",order_remark:"",products:[]},m.value=!1,console.log("폼 초기화 - 작성자 정보:",{writer_id:r.value.writer_id,writer_name:r.value.writer_name})},F=async d=>{var t,o,s;try{const n=await C.get(`/workOrder/${d.work_order_no}`);if(n.data&&n.data.master){const{master:x,products:L}=n.data;r.value={work_order_no:x.work_order_no,plan_id:x.plan_id||"",writer_id:x.writer_id||((o=(t=l.user)==null?void 0:t.employee_id)==null?void 0:o.toString())||"",writer_name:x.writer_name||((s=l.user)==null?void 0:s.employee_name)||"",write_date:x.write_date?x.write_date.split("T")[0]:new Date().toISOString().split("T")[0],order_start_dt:x.order_start_dt?x.order_start_dt.split("T")[0]:"",order_end_dt:x.order_end_dt?x.order_end_dt.split("T")[0]:"",order_remark:x.order_remark||"",products:L.map($=>({product_code:$.product_code,product_name:$.product_name,product_unit:$.product_unit,product_stand:$.product_stand,process_group_code:$.process_group_code||"",work_order_qty:$.work_order_qty||null,work_order_priority:$.work_order_priority,order_detail_remark:$.order_detail_remark||"",selected:!1}))},m.value=!0,T()}b.value=!1}catch(n){console.error("작업지시서 불러오기 오류:",n),alert("작업지시서 정보를 불러오는데 실패했습니다.")}};return U(()=>{var t,o,s,n;l.canManageProduction||alert("조회만 가능합니다. 생산 관리 권한이 없습니다.");const d=new Date().toISOString().split("T")[0];r.value.write_date=d,r.value.writer_name=((t=l.user)==null?void 0:t.employee_name)||"",r.value.writer_id=((s=(o=l.user)==null?void 0:o.employee_id)==null?void 0:s.toString())||"",r.value.work_order_no="",console.log("초기화된 작성자 정보:",{writer_id:r.value.writer_id,writer_name:r.value.writer_name,loginUser:(n=l.user)==null?void 0:n.employee_name})}),(d,t)=>(i(),_("div",He,[t[29]||(t[29]=e("div",{class:"mb-3"},[e("h1",{class:"text-2xl font-bold text-gray-800"},"작업지시서 관리")],-1)),e("div",Qe,[e("div",Xe,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"작업지시서 번호",-1)),e("div",Ye,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.value.work_order_no=o),class:"flex-1 px-2 py-1.5 border border-gray-300 rounded-l-md text-xs bg-gray-50",readonly:""},null,512),[[w,r.value.work_order_no]]),e("button",{class:"px-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 text-xs flex items-center justify-center",onClick:S},t[11]||(t[11]=[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)]))])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"계획 ID",-1)),e("div",Ze,[v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.value.plan_id=o),class:"flex-1 px-2 py-1.5 border border-gray-300 rounded-l-md text-xs bg-gray-50",readonly:""},null,512),[[w,r.value.plan_id]]),e("button",{class:"px-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 text-xs flex items-center justify-center",onClick:f},t[13]||(t[13]=[e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)]))])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"작성자",-1)),v(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>r.value.writer_name=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-gray-50",readonly:"",placeholder:"로그인된 사용자"},null,512),[[w,r.value.writer_name]])])]),e("div",et,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"작성일",-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value.write_date=o),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-gray-50",readonly:""},null,512),[[w,r.value.write_date]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"시작예정일",-1)),v(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>r.value.order_start_dt=o),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[w,r.value.order_start_dt]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"종료예정일",-1)),v(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>r.value.order_end_dt=o),type:"date",class:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[w,r.value.order_end_dt]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-xs font-medium text-blue-600 mb-1"},"비고",-1)),v(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>r.value.order_remark=o),class:"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"비고 입력"},null,512),[[w,r.value.order_remark]])])]),e("div",tt,[e("div",rt,[t[20]||(t[20]=e("label",{class:"text-sm font-medium text-blue-600"},"제품 목록",-1)),V(l).canManageProduction?(i(),_("div",ot,[e("button",{class:"px-3 py-1.5 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors disabled:opacity-50",disabled:!p.value,onClick:N}," 제거 ",8,st),e("button",{class:"px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",onClick:y}," 제품 추가 ")])):P("",!0)]),e("div",dt,[e("table",lt,[e("thead",at,[e("tr",null,[V(l).canManageProduction?(i(),_("th",nt," # ")):P("",!0),t[21]||(t[21]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 제품코드 ",-1)),t[22]||(t[22]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 제품명 ",-1)),t[23]||(t[23]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 단위 ",-1)),t[24]||(t[24]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 규격 ",-1)),t[25]||(t[25]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 공정그룹코드 ",-1)),t[26]||(t[26]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-center font-medium text-gray-700"}," 수량 ",-1)),t[27]||(t[27]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 우선순위 ",-1)),t[28]||(t[28]=e("th",{class:"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700"}," 비고 ",-1))])]),e("tbody",null,[(i(!0),_(D,null,O(r.value.products,(o,s)=>(i(),_("tr",{key:s,class:"hover:bg-gray-50"},[V(l).canManageProduction?(i(),_("td",it,[v(e("input",{"onUpdate:modelValue":n=>o.selected=n,type:"checkbox",class:"rounded w-3 h-3"},null,8,ut),[[Q,o.selected]])])):P("",!0),e("td",ct,u(o.product_code),1),e("td",_t,u(o.product_name),1),e("td",pt,u(o.product_unit),1),e("td",bt,u(o.product_stand),1),e("td",yt,u(o.process_group_code),1),e("td",xt,[v(e("input",{"onUpdate:modelValue":n=>o.work_order_qty=n,type:"number",min:"1",step:"1",class:"w-20 px-1 py-0.5 border border-gray-300 rounded text-xs text-center focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"수량"},null,8,mt),[[w,o.work_order_qty,void 0,{number:!0}]])]),e("td",gt,[v(e("input",{"onUpdate:modelValue":n=>o.work_order_priority=n,type:"number",min:"1",class:"w-16 px-1 py-0.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"",onInput:t[7]||(t[7]=n=>T())},null,40,vt),[[w,o.work_order_priority,void 0,{number:!0}]])]),e("td",ft,[v(e("input",{"onUpdate:modelValue":n=>o.order_detail_remark=n,class:"w-full px-1 py-0.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"비고"},null,8,wt),[[w,o.order_detail_remark]])])]))),128))])])]),V(l).canManageProduction?(i(),_("div",kt,[e("button",{class:"px-6 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium disabled:opacity-50",disabled:!M.value,onClick:z},u(m.value?"수정":"저장"),9,ht),e("button",{class:"px-6 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium",onClick:E}," 초기화 ")])):P("",!0)])]),a.value&&V(l).canManageProduction?(i(),j(ie,{key:0,onSelect:I,onClose:t[8]||(t[8]=o=>a.value=!1)})):P("",!0),c.value?(i(),j(he,{key:1,onSelect:g,onClose:t[9]||(t[9]=o=>c.value=!1)})):P("",!0),b.value?(i(),j(Je,{key:2,onSelect:F,onClose:t[10]||(t[10]=o=>b.value=!1)})):P("",!0)]))}},Ct=K($t,[["__scopeId","data-v-437cedec"]]);export{Ct as default};
//# sourceMappingURL=WorkOrderManager-DYtf3CIW.js.map
