{"version":3,"file":"BomManager-BdVYnggW.js","sources":["../../../client/src/pages/bom/BomManager.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden\">\n    <!-- 상단 타이틀 -->\n    <div class=\"mb-4\">\n      <h1 class=\"text-2xl font-bold text-gray-800 mb-2\">BOM 관리</h1>\n    </div>\n\n    <div class=\"grid grid-cols-2 gap-4 h-[calc(100%-80px)]\">\n      <!-- 좌측: BOM 리스트 -->\n      <div\n        class=\"flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 p-4\"\n      >\n        <div class=\"mb-4\">\n          <label class=\"block text-xs font-medium text-blue-600 mb-2\"\n            >제품명</label\n          >\n          <select\n            v-model=\"selectedProduct\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white text-xs\"\n            @change=\"filterBomList\"\n          >\n            <option value=\"\">제품명 선택</option>\n            <option\n              v-for=\"prod in uniqueProductOptions\"\n              :key=\"prod.base_product_code\"\n              :value=\"prod.product_name\"\n            >\n              {{ prod.product_name }}\n            </option>\n          </select>\n        </div>\n\n        <div class=\"h-[550px] overflow-auto border border-gray-200 rounded\">\n          <table class=\"w-full text-sm border-collapse bg-white\">\n            <thead class=\"bg-gray-50 sticky top-0\">\n              <tr>\n                <th\n                  class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 text-xs\"\n                >\n                  BOM코드\n                </th>\n                <th\n                  class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 text-xs\"\n                >\n                  제품코드\n                </th>\n                <th\n                  class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 text-xs\"\n                >\n                  제품명\n                </th>\n                <th\n                  class=\"border border-gray-200 px-3 py-2 text-left font-medium text-gray-700 text-xs\"\n                >\n                  규격\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr\n                v-for=\"bom in filteredBoms\"\n                :key=\"bom.bom_code\"\n                class=\"hover:bg-blue-50 cursor-pointer transition-colors duration-150\"\n                @click=\"selectBom(bom)\"\n              >\n                <td class=\"border border-gray-200 px-3 py-2 text-xs\">\n                  {{ bom.bom_code }}\n                </td>\n                <td class=\"border border-gray-200 px-3 py-2 text-xs\">\n                  {{ bom.product_code }}\n                </td>\n                <td class=\"border border-gray-200 px-3 py-2 text-xs\">\n                  {{ bom.product_name }}\n                </td>\n                <td class=\"border border-gray-200 px-3 py-2 text-xs\">\n                  {{ bom.product_stand }}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <!-- 우측: BOM 상세 -->\n      <div\n        class=\"flex flex-col bg-white rounded-lg shadow-sm border border-gray-200 p-4\"\n      >\n        <!-- 기본 정보 -->\n        <div class=\"grid grid-cols-3 gap-3 mb-4\">\n          <div>\n            <label class=\"block text-xs font-medium text-blue-600 mb-2\"\n              >BOM 코드</label\n            >\n            <input\n              v-model=\"form.bom_code\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-xs bg-gray-100\"\n              readonly\n            />\n          </div>\n          <div>\n            <label class=\"block text-xs font-medium text-blue-600 mb-2\"\n              >제품명</label\n            >\n            <div class=\"relative\">\n              <select\n                v-if=\"!isEditMode\"\n                v-model=\"form.product_name\"\n                class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white text-xs\"\n                @change=\"onProductNameChange\"\n              >\n                <option value=\"\">제품명 선택</option>\n                <option\n                  v-for=\"product in uniqueProductNames\"\n                  :key=\"product\"\n                  :value=\"product\"\n                >\n                  {{ product }}\n                </option>\n              </select>\n              <input\n                v-else\n                v-model=\"form.product_name\"\n                class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md bg-gray-100 text-gray-600 text-xs\"\n                readonly\n              />\n            </div>\n          </div>\n\n          <div>\n            <label class=\"block text-xs font-medium text-blue-600 mb-2\"\n              >규격</label\n            >\n            <select\n              v-model=\"form.product_stand\"\n              class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 bg-white text-xs\"\n              :disabled=\"!form.product_name || isEditMode\"\n              @change=\"updateProductCode\"\n            >\n              <option value=\"\">규격 선택</option>\n              <option v-for=\"spec in availableSpecs\" :key=\"spec\" :value=\"spec\">\n                {{ spec }}\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!-- 투입 자재 -->\n        <div class=\"mb-3 flex flex-col h-60\">\n          <div class=\"flex justify-between items-center mb-2\">\n            <label class=\"text-xs font-medium text-blue-600\">투입 자재</label>\n            <button\n              class=\"px-3 py-1.5 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed\"\n              :disabled=\"!hasSelectedMaterials\"\n              @click=\"removeSelectedMaterials\"\n            >\n              제거\n            </button>\n          </div>\n          <div class=\"flex-1 overflow-auto border border-gray-200 rounded\">\n            <table class=\"w-full text-xs border-collapse bg-white\">\n              <thead class=\"bg-gray-50 sticky top-0\">\n                <tr>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-center font-medium text-gray-700\"\n                  >\n                    #\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    자재코드\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    자재명\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    분류\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    규격\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    투입량\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    단위\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"(mat, index) in form.materials\"\n                  :key=\"mat.material_code || index\"\n                  class=\"hover:bg-gray-50\"\n                >\n                  <td class=\"border border-gray-200 px-2 py-0.5 text-center\">\n                    <input\n                      v-model=\"mat.selected\"\n                      type=\"checkbox\"\n                      class=\"rounded w-3 h-3\"\n                    />\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_code }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_name }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_type || \"-\" }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_stand }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    <input\n                      v-model.number=\"mat.usage_qty\"\n                      type=\"number\"\n                      step=\"0.01\"\n                      class=\"w-14 px-1 py-0.5 border border-gray-300 rounded text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                    />\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_unit }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- 자재 검색 및 추가 -->\n        <div class=\"mb-3\">\n          <label class=\"text-xs font-medium text-blue-600 mb-2 block\"\n            >자재 검색 및 추가</label\n          >\n          <div class=\"flex gap-2 mb-2\">\n            <input\n              v-model=\"searchMaterial\"\n              placeholder=\"자재코드 또는 자재명\"\n              class=\"flex-1 px-2 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-xs\"\n              @keyup.enter=\"searchMaterials\"\n            />\n            <button\n              class=\"px-3 py-1.5 bg-green-600 text-white rounded text-xs hover:bg-green-700 transition-colors duration-150\"\n              @click=\"addMaterialsToBom\"\n            >\n              추가\n            </button>\n          </div>\n          <div class=\"h-[200px] overflow-y-auto border border-gray-200 rounded\">\n            <table class=\"w-full text-xs border-collapse bg-white\">\n              <thead class=\"bg-gray-50 sticky top-0\">\n                <tr>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-center font-medium text-gray-700\"\n                  >\n                    #\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    자재코드\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    자재명\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    분류\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    규격\n                  </th>\n                  <th\n                    class=\"border border-gray-200 px-2 py-0.5 text-left font-medium text-gray-700\"\n                  >\n                    단위\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr\n                  v-for=\"mat in filteredMaterials\"\n                  :key=\"mat.material_code\"\n                  class=\"hover:bg-gray-50\"\n                >\n                  <td class=\"border border-gray-200 px-2 py-0.5 text-center\">\n                    <input\n                      v-model=\"selectedMaterials\"\n                      type=\"checkbox\"\n                      :value=\"mat\"\n                      class=\"rounded w-3 h-3\"\n                    />\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_code }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_name }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_type }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_stand }}\n                  </td>\n                  <td class=\"border border-gray-200 px-2 py-0.5\">\n                    {{ mat.material_unit }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- 저장/초기화 버튼 -->\n        <div class=\"flex gap-3 justify-center mt-2\">\n          <button\n            class=\"px-5 py-1.5 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors duration-150 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\n            :disabled=\"!canSave\"\n            @click=\"saveBom\"\n          >\n            {{ isEditMode ? \"수정\" : \"저장\" }}\n          </button>\n          <button\n            class=\"px-5 py-1.5 bg-gray-500 text-white rounded text-xs hover:bg-gray-600 transition-colors duration-150 font-medium\"\n            @click=\"resetForm\"\n          >\n            초기화\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from \"vue\";\nimport axios from \"axios\";\n\nconst bomList = ref([]);\nconst productOptions = ref([]);\nconst materialList = ref([]);\n\nconst selectedProduct = ref(\"\");\nconst selectedMaterials = ref([]);\nconst searchMaterial = ref(\"\");\nconst isEditMode = ref(false);\n\nconst form = ref({\n  bom_code: \"\",\n  product_code: \"\",\n  product_name: \"\",\n  product_stand: \"\",\n  materials: [],\n  deletedMaterials: [], // 삭제할 자재 목록\n});\n\n// BOM 목록을 고유하게 변환 (중복 제거)\nconst uniqueBomList = computed(() => {\n  const bomMap = new Map();\n  bomList.value.forEach((bom) => {\n    if (!bomMap.has(bom.bom_code)) {\n      bomMap.set(bom.bom_code, {\n        bom_code: bom.bom_code,\n        product_code: bom.product_code,\n        product_name: bom.product_name,\n        product_stand: bom.product_stand,\n      });\n    }\n  });\n  return Array.from(bomMap.values());\n});\n\n// 제품명 중복 제거하여 드롭다운 옵션 생성 (왼쪽 필터용)\n// 제품코드 기반으로 그룹핑하되 제품명이 표시되도록\nconst uniqueProductOptions = computed(() => {\n  const productMap = new Map();\n\n  productOptions.value.forEach((product) => {\n    // 제품코드에서 규격 부분(-10, -30, -60) 제거\n    const baseProductCode = product.product_code.replace(/-\\d+$/, \"\");\n\n    if (!productMap.has(baseProductCode)) {\n      productMap.set(baseProductCode, {\n        base_product_code: baseProductCode,\n        product_name: product.product_name,\n        // 해당 베이스 코드의 모든 규격들\n        variants: [],\n      });\n    }\n\n    // 각 베이스 코드별로 규격 정보 저장\n    productMap.get(baseProductCode).variants.push({\n      product_code: product.product_code,\n      product_stand: product.product_stand,\n    });\n  });\n\n  return Array.from(productMap.values());\n});\n\n// 중복 제거된 제품명 목록 (드롭다운용)\nconst uniqueProductNames = computed(() => {\n  const productNames = new Set();\n  productOptions.value.forEach((product) => {\n    if (product.product_name) {\n      productNames.add(product.product_name);\n    }\n  });\n  return Array.from(productNames).sort();\n});\n\n// 선택된 제품명에 따른 사용 가능한 규격 목록\nconst availableSpecs = computed(() => {\n  if (!form.value.product_name) return [];\n\n  const specs = new Set();\n  productOptions.value\n    .filter((product) => product.product_name === form.value.product_name)\n    .forEach((product) => {\n      if (product.product_stand) {\n        specs.add(product.product_stand);\n      }\n    });\n\n  return Array.from(specs).sort();\n});\n\n// 선택된 제품명으로 BOM 목록 필터링 (제품코드 기반)\nconst filteredBoms = computed(() => {\n  if (!selectedProduct.value) return uniqueBomList.value;\n\n  // 선택된 제품명에 해당하는 제품코드들 찾기\n  const matchingProductCodes = productOptions.value\n    .filter((product) => product.product_name === selectedProduct.value)\n    .map((product) => product.product_code);\n\n  // BOM 목록에서 해당 제품코드들과 일치하는 것들만 필터링\n  return uniqueBomList.value.filter((bom) =>\n    matchingProductCodes.includes(bom.product_code),\n  );\n});\n\nconst filteredMaterials = computed(() => {\n  if (!searchMaterial.value) return materialList.value.slice(0, 50);\n  const keyword = searchMaterial.value.toLowerCase();\n  return materialList.value\n    .filter((mat) => {\n      return (\n        mat.material_code.toLowerCase().includes(keyword) ||\n        mat.material_name.toLowerCase().includes(keyword)\n      );\n    })\n    .slice(0, 50);\n});\n\nconst hasSelectedMaterials = computed(() => {\n  return form.value.materials.some((material) => material.selected);\n});\n\nconst canSave = computed(() => {\n  return (\n    form.value.bom_code &&\n    form.value.product_name &&\n    form.value.product_stand &&\n    form.value.materials.length > 0\n  );\n});\n\n// BOM 코드 자동 생성 함수 (BOM-제품코드-YYYYMMDD 형식)\nconst generateBomCode = () => {\n  if (form.value.product_code) {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, \"0\");\n    const day = String(today.getDate()).padStart(2, \"0\");\n    const dateStr = year + month + day;\n\n    form.value.bom_code = `BOM-${form.value.product_code}-${dateStr}`;\n  }\n};\n\n// 제품명 선택 시 처리\nconst onProductNameChange = () => {\n  // 제품명이 변경되면 규격 초기화\n  form.value.product_stand = \"\";\n  form.value.product_code = \"\";\n  form.value.bom_code = \"\";\n};\n\n// 제품명과 규격 기반으로 제품코드 업데이트 및 BOM 코드 자동 생성\nconst updateProductCode = async () => {\n  if (\n    !isEditMode.value &&\n    form.value.product_name &&\n    form.value.product_stand\n  ) {\n    console.log(\n      \"매칭 시도:\",\n      form.value.product_name,\n      form.value.product_stand,\n    );\n\n    // 제품명과 규격이 일치하는 제품 찾기\n    const matchingProduct = productOptions.value.find(\n      (product) =>\n        product.product_name === form.value.product_name &&\n        product.product_stand === form.value.product_stand,\n    );\n\n    if (matchingProduct) {\n      form.value.product_code = matchingProduct.product_code;\n      console.log(\n        `✅ 매칭된 제품: ${form.value.product_name} ${form.value.product_stand} -> ${matchingProduct.product_code}`,\n      );\n\n      // BOM 코드 자동 생성\n      generateBomCode();\n\n      // 동일한 제품코드로 기존 BOM이 있는지 확인\n      await checkExistingBom(matchingProduct.product_code);\n    } else {\n      form.value.product_code = \"\";\n      form.value.bom_code = \"\";\n      console.log(\n        `❌ 매칭되는 제품을 찾을 수 없습니다: ${form.value.product_name} ${form.value.product_stand}`,\n      );\n    }\n  }\n};\n\n// 기존 BOM 존재 여부 확인\nconst checkExistingBom = async (productCode) => {\n  try {\n    // 기존 BOM 목록에서 동일한 제품코드가 있는지 확인\n    const existingBom = uniqueBomList.value.find(\n      (bom) => bom.product_code === productCode,\n    );\n    if (existingBom) {\n      alert(`${form.value.product_name}의 BOM 코드가 이미 등록되어 있습니다.`);\n      form.value.bom_code = \"\";\n      return false;\n    }\n    return true;\n  } catch (err) {\n    console.error(\"기존 BOM 확인 오류:\", err);\n    return true;\n  }\n};\n\nconst filterBomList = () => {\n  // 필터링은 computed에서 처리되므로 빈 함수\n};\n\nconst selectBom = async (bom) => {\n  // 중복 호출 방지\n  if (isEditMode.value && form.value.bom_code === bom.bom_code) {\n    return;\n  }\n\n  try {\n    console.log(\"BOM 선택:\", bom.bom_code);\n    const res = await axios.get(`/bom/${bom.bom_code}`);\n\n    if (res.data && res.data.master) {\n      const { master, materials } = res.data;\n\n      form.value = {\n        bom_code: master.bom_code,\n        product_code: master.product_code,\n        product_name: master.product_name,\n        product_stand: master.product_stand,\n        materials: materials.map((item) => ({\n          material_code: item.material_code,\n          material_name: item.material_name,\n          material_type: item.material_type || \"\",\n          material_unit: item.material_unit,\n          material_stand: item.material_stand,\n          usage_qty: item.usage_qty,\n          bom_unit: item.bom_unit,\n          selected: false,\n          status: \"existing\",\n        })),\n        deletedMaterials: [],\n      };\n      isEditMode.value = true;\n      console.log(\"BOM 데이터 로드 완료:\", form.value);\n    }\n  } catch (err) {\n    console.error(\"BOM 상세 조회 오류:\", err);\n    alert(\"BOM 상세 정보를 불러오는데 실패했습니다.\");\n  }\n};\n\nconst addMaterialsToBom = () => {\n  selectedMaterials.value.forEach((mat) => {\n    if (\n      !form.value.materials.find((d) => d.material_code === mat.material_code)\n    ) {\n      form.value.materials.push({\n        material_code: mat.material_code,\n        material_name: mat.material_name,\n        material_type: mat.material_type || mat.material_category || \"\",\n        material_unit: mat.material_unit,\n        material_stand: mat.material_stand,\n        usage_qty: 0,\n        bom_unit: mat.material_unit,\n        selected: false,\n        status: \"new\",\n      });\n    }\n  });\n  selectedMaterials.value = [];\n};\n\nconst removeSelectedMaterials = () => {\n  const selectedMaterialsToDelete = form.value.materials.filter(\n    (material) => material.selected,\n  );\n\n  if (selectedMaterialsToDelete.length === 0) {\n    alert(\"삭제할 자재를 선택해주세요.\");\n    return;\n  }\n\n  // 기존 자재(DB에 있는 자재)는 삭제 목록에 추가\n  const existingMaterialsToDelete = selectedMaterialsToDelete.filter(\n    (mat) => mat.status === \"existing\",\n  );\n  if (existingMaterialsToDelete.length > 0) {\n    form.value.deletedMaterials = form.value.deletedMaterials || [];\n    existingMaterialsToDelete.forEach((material) => {\n      form.value.deletedMaterials.push({\n        material_code: material.material_code,\n        bom_code: form.value.bom_code,\n      });\n    });\n  }\n\n  // UI에서 선택된 자재들 제거\n  form.value.materials = form.value.materials.filter(\n    (material) => !material.selected,\n  );\n};\n\nconst saveBom = async () => {\n  if (!canSave.value) {\n    alert(\"BOM 코드, 제품명, 규격, 자재를 모두 입력해주세요.\");\n    return;\n  }\n\n  try {\n    let finalProductCode = form.value.product_code;\n\n    // 신규 등록 시 제품코드가 없으면 제품명과 규격으로 찾기\n    if (!isEditMode.value && !finalProductCode) {\n      const matchingProduct = productOptions.value.find(\n        (product) =>\n          product.product_name === form.value.product_name &&\n          product.product_stand === form.value.product_stand,\n      );\n\n      if (matchingProduct) {\n        finalProductCode = matchingProduct.product_code;\n      } else {\n        alert(\"선택한 제품명과 규격에 해당하는 제품을 찾을 수 없습니다.\");\n        return;\n      }\n    }\n\n    // 백엔드 서비스와 동일한 구조로 데이터 구성\n    const payload = {\n      master: {\n        bom_code: form.value.bom_code,\n        product_code: finalProductCode,\n        product_name: form.value.product_name,\n        product_stand: form.value.product_stand,\n      },\n      materials: form.value.materials.map((mat) => ({\n        material_code: mat.material_code,\n        usage_qty: mat.usage_qty,\n        bom_unit: mat.bom_unit || mat.material_unit,\n        status: mat.status || \"new\",\n      })),\n    };\n\n    console.log(\"전송할 데이터:\", payload);\n\n    if (isEditMode.value) {\n      await axios.put(\"/bom\", payload);\n      alert(\"BOM 수정 완료\");\n    } else {\n      await axios.post(\"/bom\", payload);\n      alert(\"BOM 등록 완료\");\n    }\n\n    await fetchBomList();\n    resetForm();\n  } catch (err) {\n    console.error(\"BOM 저장 오류:\", err);\n    if (err.response && err.response.data && err.response.data.error) {\n      alert(`BOM 저장에 실패했습니다: ${err.response.data.error}`);\n    } else {\n      alert(\"BOM 저장에 실패했습니다.\");\n    }\n  }\n};\n\nconst resetForm = () => {\n  form.value = {\n    bom_code: \"\",\n    product_code: \"\",\n    product_name: \"\",\n    product_stand: \"\",\n    materials: [],\n    deletedMaterials: [], // 삭제된 자재 목록 초기화\n  };\n  isEditMode.value = false;\n  selectedMaterials.value = [];\n};\n\nconst fetchBomList = async () => {\n  try {\n    const res = await axios.get(\"/bom/list\");\n    bomList.value = res.data || [];\n  } catch (err) {\n    console.error(\"BOM 목록 조회 오류:\", err);\n  }\n};\n\nconst fetchProductList = async () => {\n  try {\n    const res = await axios.get(\"/bom/products\");\n    productOptions.value = res.data || [];\n    console.log(\"불러온 제품 목록:\", productOptions.value);\n  } catch (err) {\n    console.error(\"제품 목록 조회 오류:\", err);\n  }\n};\n\nconst fetchMaterialList = async () => {\n  try {\n    const res = await axios.get(\"/bom/materials\");\n    materialList.value = res.data || [];\n  } catch (err) {\n    console.error(\"자재 목록 조회 오류:\", err);\n  }\n};\n\nconst searchMaterials = () => {\n  // Enter 키 입력 시 자동으로 filteredMaterials가 업데이트됨\n};\n\nonMounted(() => {\n  fetchBomList();\n  fetchProductList();\n  fetchMaterialList();\n});\n</script>\n\n<style scoped>\ninput,\nselect {\n  transition: all 0.15s ease-in-out;\n}\n\ninput:focus,\nselect:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n/* 스크롤바 스타일링 */\n::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f8fafc;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n</style>\n"],"names":["bomList","ref","productOptions","materialList","selectedProduct","selectedMaterials","searchMaterial","isEditMode","form","uniqueBomList","computed","bomMap","bom","uniqueProductOptions","productMap","product","baseProductCode","uniqueProductNames","productNames","availableSpecs","specs","filteredBoms","matchingProductCodes","filteredMaterials","keyword","mat","hasSelectedMaterials","material","canSave","generateBomCode","today","year","month","day","dateStr","onProductNameChange","updateProductCode","matchingProduct","checkExistingBom","productCode","err","filterBomList","selectBom","res","axios","master","materials","item","addMaterialsToBom","d","removeSelectedMaterials","selectedMaterialsToDelete","existingMaterialsToDelete","saveBom","finalProductCode","payload","fetchBomList","resetForm","fetchProductList","fetchMaterialList","searchMaterials","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","_Fragment","_renderList","prod","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_vModelText","_hoisted_15","_hoisted_16","_vModelSelect","spec","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","index","_hoisted_24","_vModelCheckbox","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45"],"mappings":"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"}