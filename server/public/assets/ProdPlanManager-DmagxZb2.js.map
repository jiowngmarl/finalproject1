{"version":3,"file":"ProdPlanManager-DmagxZb2.js","sources":["../../../client/src/pages/prodPlan/OrderSearchModal.vue","../../../client/src/pages/prodPlan/PlanProductSearchModal.vue","../../../client/src/pages/prodPlan/ProdPlanSearchModal.vue","../../../client/src/pages/prodPlan/ProdPlanManager.vue"],"sourcesContent":["<template>\n  <div\n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n  >\n    <div class=\"bg-white rounded-lg w-[800px] h-[500px] flex flex-col\">\n      <!-- 헤더 -->\n      <div class=\"flex justify-between items-center p-4 border-b\">\n        <h3 class=\"text-lg font-semibold\">주문 검색</h3>\n        <button class=\"text-xl\" @click=\"$emit('close')\">&times;</button>\n      </div>\n\n      <!-- 검색 -->\n      <div class=\"p-4 border-b\">\n        <input\n          v-model=\"searchTerm\"\n          placeholder=\"주문번호, 제품명으로 검색\"\n          class=\"w-full px-3 py-2 border\"\n          @input=\"searchOrders\"\n        />\n      </div>\n\n      <!-- 결과 테이블 -->\n      <div class=\"flex-1 overflow-auto p-4\">\n        <table class=\"w-full text-sm\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"border p-2\">주문번호</th>\n              <th class=\"border p-2\">제품정보</th>\n              <th class=\"border p-2\">총수량</th>\n              <th class=\"border p-2\">주문일</th>\n              <th class=\"border p-2\">납기일</th>\n              <th class=\"border p-2\">선택</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-if=\"loading\">\n              <td colspan=\"6\" class=\"border p-4 text-center\">검색 중...</td>\n            </tr>\n            <tr v-else-if=\"orderList.length === 0\">\n              <td colspan=\"6\" class=\"border p-4 text-center text-gray-500\">\n                등록된 주문이 없습니다.\n              </td>\n            </tr>\n            <tr v-for=\"order in orderList\" v-else :key=\"order.order_id\">\n              <td class=\"border p-2\">\n                {{ order.order_id }}\n              </td>\n              <td class=\"border p-2\">\n                {{ order.product_summary }}\n              </td>\n              <td class=\"border p-2\">\n                {{ formatNumber(order.total_qty) }}\n              </td>\n              <td class=\"border p-2\">\n                {{ formatDate(order.order_date) }}\n              </td>\n              <td class=\"border p-2\">\n                {{ formatDate(order.delivery_date) }}\n              </td>\n              <td class=\"border p-2 text-center\">\n                <button\n                  class=\"px-2 py-1 bg-blue-500 text-white text-xs rounded\"\n                  @click=\"$emit('select', order)\"\n                >\n                  선택\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n\n// Emits\ndefineEmits([\"select\", \"close\"]);\n\n// 반응형 데이터\nconst searchTerm = ref(\"\");\nconst orderList = ref([]);\nconst loading = ref(false);\n\n// 메서드들\nconst searchOrders = async () => {\n  loading.value = true;\n  console.log(\"주문 검색 시작:\", searchTerm.value); // 디버깅\n\n  try {\n    const response = await axios.get(\"/prodPlan/orders/search\", {\n      params: { q: searchTerm.value },\n    });\n\n    if (response.data) {\n      orderList.value = response.data;\n      console.log(\"설정된 주문 목록:\", orderList.value); // 디버깅\n    } else {\n      orderList.value = [];\n      console.log(\"응답 데이터가 없음\"); // 디버깅\n    }\n  } catch (error) {\n    console.error(\"주문 검색 오류:\", error);\n    console.error(\"에러 상세:\", error.response); // 디버깅\n    orderList.value = [];\n  } finally {\n    loading.value = false;\n  }\n};\n\n// 유틸리티 함수들\nconst formatDate = (dateString) => {\n  if (!dateString) return \"-\";\n  const date = new Date(dateString);\n  return date.toLocaleDateString(\"ko-KR\");\n};\n\nconst formatNumber = (number) => {\n  if (!number) return \"0\";\n  return number.toLocaleString();\n};\n\n// 컴포넌트 마운트 시 초기 검색 (전체 목록)\nonMounted(() => {\n  searchOrders();\n});\n</script>\n","<template>\n  <div\n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n  >\n    <div class=\"bg-white rounded-lg w-[600px] h-[450px] flex flex-col\">\n      <!-- 헤더 -->\n      <div class=\"flex justify-between items-center p-4 border-b\">\n        <h3 class=\"text-lg font-semibold\">제품 선택</h3>\n        <button class=\"text-xl\" @click=\"$emit('close')\">&times;</button>\n      </div>\n\n      <!-- 검색 -->\n      <div class=\"p-4 border-b\">\n        <input\n          v-model=\"searchTerm\"\n          placeholder=\"제품명 또는 제품코드\"\n          class=\"w-full px-3 py-2 border\"\n          @input=\"searchProducts\"\n        />\n      </div>\n\n      <!-- 결과 테이블 -->\n      <div class=\"flex-1 overflow-auto p-4\">\n        <table class=\"w-full text-sm\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"border p-2\">제품코드</th>\n              <th class=\"border p-2\">제품명</th>\n              <th class=\"border p-2\">단위</th>\n              <th class=\"border p-2\">규격</th>\n              <th class=\"border p-2\">선택</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"product in searchResults\" :key=\"product.product_code\">\n              <td class=\"border p-2\">\n                {{ product.product_code }}\n              </td>\n              <td class=\"border p-2\">\n                {{ product.product_name }}\n              </td>\n              <td class=\"border p-2\">\n                {{ product.product_unit }}\n              </td>\n              <td class=\"border p-2\">\n                {{ product.product_stand }}\n              </td>\n              <td class=\"border p-2 text-center\">\n                <button\n                  class=\"px-2 py-1 bg-blue-500 text-white text-xs rounded\"\n                  @click=\"$emit('select', product)\"\n                >\n                  선택\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n\ndefineEmits([\"select\", \"close\"]);\n\nconst searchTerm = ref(\"\");\nconst searchResults = ref([]);\n\nconst searchProducts = async () => {\n  try {\n    const res = await axios.get(\"/prodPlan/products/search\", {\n      params: { q: searchTerm.value },\n    });\n    searchResults.value = res.data || [];\n  } catch (err) {\n    searchResults.value = [];\n  }\n};\n\nonMounted(() => {\n  searchProducts(); // 전체 목록 로드\n});\n</script>\n","<template>\n  <div\n    class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n  >\n    <div class=\"bg-white rounded-lg w-[700px] h-[500px] flex flex-col\">\n      <!-- 헤더 -->\n      <div class=\"flex justify-between items-center p-4 border-b\">\n        <h3 class=\"text-lg font-semibold\">생산계획 선택</h3>\n        <button class=\"text-xl\" @click=\"$emit('close')\">&times;</button>\n      </div>\n\n      <!-- 검색 -->\n      <div class=\"p-4 border-b\">\n        <input\n          v-model=\"searchTerm\"\n          placeholder=\"계획 ID 또는 제품명\"\n          class=\"w-full px-3 py-2 border\"\n          @input=\"searchPlans\"\n        />\n      </div>\n\n      <!-- 결과 테이블 -->\n      <div class=\"flex-1 overflow-auto p-4\">\n        <table class=\"w-full text-sm\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"border p-2\">계획 ID</th>\n              <th class=\"border p-2\">제품정보요약</th>\n              <th class=\"border p-2\">총 수량</th>\n              <th class=\"border p-2\">시작예정일</th>\n              <th class=\"border p-2\">종료예정일</th>\n              <th class=\"border p-2\">선택</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"plan in searchResults\" :key=\"plan.plan_id\">\n              <td class=\"border p-2\">\n                {{ plan.plan_id }}\n              </td>\n              <td class=\"border p-2\">\n                {{ plan.product_summary }}\n              </td>\n              <td class=\"border p-2\">\n                {{ plan.total_qty }}\n              </td>\n              <td class=\"border p-2\">\n                {{ formatDate(plan.plan_start_dt) }}\n              </td>\n              <td class=\"border p-2\">\n                {{ formatDate(plan.plan_end_dt) }}\n              </td>\n              <td class=\"border p-2 text-center\">\n                <button\n                  class=\"px-2 py-1 bg-blue-500 text-white text-xs rounded\"\n                  @click=\"$emit('select', plan)\"\n                >\n                  선택\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from \"vue\";\nimport axios from \"axios\";\n\ndefineEmits([\"select\", \"close\"]);\n\nconst searchTerm = ref(\"\");\nconst searchResults = ref([]);\n\nconst searchPlans = async () => {\n  try {\n    const res = await axios.get(\"/prodPlan/search\", {\n      params: { q: searchTerm.value },\n    });\n    searchResults.value = res.data || [];\n  } catch (err) {\n    searchResults.value = [];\n  }\n};\n\n// 날짜 포맷팅 함수\nconst formatDate = (dateString) => {\n  if (!dateString) return \"-\";\n  const date = new Date(dateString);\n  return date.toLocaleDateString(\"ko-KR\");\n};\n\nonMounted(() => {\n  searchPlans(); // 전체 목록 로드\n});\n</script>\n","<template>\n  <div class=\"max-w-[1060px] h-[739px] mx-auto p-4 bg-gray-50 overflow-hidden\">\n    <!-- 상단 타이틀 -->\n    <div class=\"mb-3\">\n      <h1 class=\"text-2xl font-bold text-gray-800\">\n        생산계획 관리\n        <span class=\"text-sm font-normal text-gray-500 ml-2\">\n          ({{ authStore.user?.employee_name || \"사용자\" }})\n        </span>\n      </h1>\n    </div>\n\n    <div\n      class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4\"\n      style=\"height: calc(100% - 60px)\"\n    >\n      <!-- 기본 정보 영역 -->\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\n        <!-- 계획번호 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >계획번호</label\n          >\n          <div class=\"flex\">\n            <input\n              v-model=\"form.plan_id\"\n              class=\"flex-1 px-2 py-1.5 border border-gray-300 rounded-l-md text-xs bg-gray-50\"\n              readonly\n            />\n            <button\n              class=\"px-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 text-xs flex items-center justify-center\"\n              title=\"기존 계획 불러오기\"\n              @click=\"openPlanModal\"\n            >\n              <svg\n                width=\"12\"\n                height=\"12\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              >\n                <circle cx=\"11\" cy=\"11\" r=\"8\" />\n                <path d=\"m21 21-4.35-4.35\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <!-- 주문번호 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >주문번호</label\n          >\n          <div class=\"flex\">\n            <input\n              v-model=\"form.order_id\"\n              class=\"flex-1 px-2 py-1.5 border border-gray-300 rounded-l-md text-xs bg-gray-50\"\n              readonly\n            />\n            <button\n              class=\"px-2 bg-blue-500 text-white rounded-r-md hover:bg-blue-600 text-xs flex items-center justify-center\"\n              @click=\"openOrderModal\"\n            >\n              <svg\n                width=\"12\"\n                height=\"12\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              >\n                <circle cx=\"11\" cy=\"11\" r=\"8\" />\n                <path d=\"m21 21-4.35-4.35\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 계획명 및 작성자 영역 -->\n      <div class=\"grid grid-cols-2 gap-3 mb-4\">\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >계획명 *</label\n          >\n          <input\n            v-model=\"form.plan_name\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            placeholder=\"생산계획명을 입력해주세요\"\n            required\n          />\n        </div>\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >작성자</label\n          >\n          <input\n            v-model=\"form.writer_name\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-gray-50\"\n            readonly\n            placeholder=\"로그인된 사용자\"\n          />\n        </div>\n      </div>\n\n      <!-- 일정 및 비고 영역 -->\n      <div class=\"grid grid-cols-4 gap-3 mb-4\">\n        <!-- 등록일 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >등록일</label\n          >\n          <input\n            v-model=\"form.plan_reg_dt\"\n            type=\"date\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs bg-gray-50\"\n            readonly\n          />\n        </div>\n\n        <!-- 계획시작일 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >계획시작일 *</label\n          >\n          <input\n            v-model=\"form.plan_start_dt\"\n            type=\"date\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            required\n          />\n        </div>\n\n        <!-- 계획종료일 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >계획종료일 *</label\n          >\n          <input\n            v-model=\"form.plan_end_dt\"\n            type=\"date\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            required\n          />\n        </div>\n\n        <!-- 비고 -->\n        <div>\n          <label class=\"block text-xs font-medium text-blue-600 mb-1\"\n            >비고</label\n          >\n          <input\n            v-model=\"form.plan_remark\"\n            class=\"w-full px-2 py-1.5 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\n            placeholder=\"비고 입력\"\n          />\n        </div>\n      </div>\n\n      <!-- 제품 목록 영역 -->\n      <div class=\"flex flex-col\" style=\"height: calc(100% - 200px)\">\n        <div class=\"flex justify-between items-center mb-3\">\n          <label class=\"text-sm font-medium text-blue-600\">제품 목록</label>\n          <div v-if=\"authStore.canManageProduction\" class=\"flex gap-2\">\n            <button\n              class=\"px-3 py-1.5 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors disabled:opacity-50\"\n              :disabled=\"!hasSelectedProducts\"\n              @click=\"removeSelectedProducts\"\n            >\n              제거\n            </button>\n            <button\n              class=\"px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors\"\n              @click=\"openProductModal\"\n            >\n              제품 추가\n            </button>\n          </div>\n        </div>\n\n        <!-- 제품 테이블 -->\n        <div class=\"flex-1 overflow-auto border border-gray-200 rounded mb-4\">\n          <table class=\"w-full text-xs border-collapse bg-white\">\n            <thead class=\"bg-gray-50 sticky top-0\">\n              <tr>\n                <th\n                  v-if=\"authStore.canManageProduction\"\n                  class=\"border border-gray-200 px-2 py-1.5 text-center font-medium text-gray-700\"\n                >\n                  #\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700\"\n                >\n                  제품코드\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700\"\n                >\n                  제품명\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700\"\n                >\n                  단위\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700\"\n                >\n                  규격\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-left font-medium text-gray-700\"\n                >\n                  공정그룹코드\n                </th>\n                <th\n                  class=\"border border-gray-200 px-2 py-1.5 text-center font-medium text-gray-700\"\n                >\n                  계획수량\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-if=\"form.products.length === 0\">\n                <td\n                  :colspan=\"authStore.canManageProduction ? 7 : 6\"\n                  class=\"text-center text-gray-500 py-8\"\n                >\n                  등록된 제품이 없습니다. 제품을 추가해주세요.\n                </td>\n              </tr>\n              <tr\n                v-for=\"(product, index) in form.products\"\n                v-else\n                :key=\"index\"\n                class=\"hover:bg-gray-50\"\n              >\n                <td\n                  v-if=\"authStore.canManageProduction\"\n                  class=\"border border-gray-200 px-2 py-1.5 text-center\"\n                >\n                  <input\n                    v-model=\"product.selected\"\n                    type=\"checkbox\"\n                    class=\"rounded w-3 h-3\"\n                  />\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  {{ product.product_code }}\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  {{ product.product_name }}\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  {{ product.product_unit }}\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  {{ product.product_stand }}\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  {{ product.process_group_code }}\n                </td>\n                <td class=\"border border-gray-200 px-2 py-1.5\">\n                  <input\n                    v-model.number=\"product.plan_qty\"\n                    type=\"number\"\n                    min=\"1\"\n                    step=\"1\"\n                    class=\"w-20 px-1 py-0.5 border border-gray-300 rounded text-xs text-center focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                    placeholder=\"수량\"\n                  />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- 저장/초기화 버튼 -->\n        <div\n          v-if=\"authStore.canManageProduction\"\n          class=\"flex gap-3 justify-center\"\n        >\n          <button\n            class=\"px-6 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors font-medium disabled:opacity-50\"\n            :disabled=\"!canSave\"\n            @click=\"savePlan\"\n          >\n            {{ isEditMode ? \"수정\" : \"저장\" }}\n          </button>\n          <button\n            class=\"px-6 py-2 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 transition-colors font-medium\"\n            @click=\"resetForm\"\n          >\n            초기화\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 모달들 (검색은 모든 사용자 가능, 제품추가는 권한 필요) -->\n    <PlanProductSearchModal\n      v-if=\"showProductModal && authStore.canManageProduction\"\n      @select=\"addProduct\"\n      @close=\"showProductModal = false\"\n    />\n\n    <OrderSearchModal\n      v-if=\"showOrderModal\"\n      @select=\"selectOrder\"\n      @close=\"showOrderModal = false\"\n    />\n\n    <ProdPlanSearchModal\n      v-if=\"showPlanModal\"\n      @select=\"selectPlan\"\n      @close=\"showPlanModal = false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from \"vue\";\nimport axios from \"axios\";\n\n// 권한 스토어\nimport { useAuthStore } from \"@/stores/authStore\";\nconst authStore = useAuthStore();\n\n// 모달 컴포넌트들\nimport OrderSearchModal from \"./OrderSearchModal.vue\";\nimport PlanProductSearchModal from \"./PlanProductSearchModal.vue\";\nimport ProdPlanSearchModal from \"./ProdPlanSearchModal.vue\";\n\n// 기본 상태\nconst isEditMode = ref(false);\n\n// 모달 상태\nconst showProductModal = ref(false);\nconst showOrderModal = ref(false);\nconst showPlanModal = ref(false);\n\n// 폼 데이터\nconst form = ref({\n  plan_id: \"\",\n  plan_name: \"\",\n  order_id: \"\",\n  employee_name: \"\", // DB에 저장될 사원명\n  writer_name: \"\", // 화면 표시용\n  plan_reg_dt: \"\",\n  plan_start_dt: \"\",\n  plan_end_dt: \"\",\n  plan_remark: \"\",\n  products: [],\n});\n\n// 권한 체크 함수들\nconst checkProductionPermission = (action = \"이 작업\") => {\n  if (!authStore.canManageProduction) {\n    alert(\n      authStore.getPermissionMessage(\"production\") ||\n        \"생산 관리 권한이 없습니다.\",\n    );\n    return false;\n  }\n  return true;\n};\n\n// Computed 속성들\nconst hasSelectedProducts = computed(() => {\n  return form.value.products.some((product) => product.selected);\n});\n\nconst canSave = computed(() => {\n  return (\n    form.value.employee_name &&\n    form.value.plan_name &&\n    form.value.plan_start_dt &&\n    form.value.plan_end_dt &&\n    form.value.products.length > 0 &&\n    authStore.canManageProduction\n  );\n});\n\n// 메서드들\nconst openProductModal = () => {\n  if (!checkProductionPermission(\"제품 추가\")) return;\n  showProductModal.value = true;\n};\n\nconst openOrderModal = () => {\n  showOrderModal.value = true;\n};\n\nconst openPlanModal = () => {\n  showPlanModal.value = true;\n};\n\n// 주문 선택\nconst selectOrder = async (order) => {\n  form.value.order_id = order.order_id;\n  showOrderModal.value = false;\n\n  // 권한이 있을 때만 제품 정보 자동 추가\n  if (!authStore.canManageProduction) {\n    return;\n  }\n\n  // 주문의 제품 정보를 자동으로 추가\n  try {\n    const res = await axios.get(`/prodPlan/order/${order.order_id}`);\n    if (res.data && res.data.products) {\n      form.value.products = [];\n\n      res.data.products.forEach((product, index) => {\n        form.value.products.push({\n          product_code: product.product_code,\n          product_name: product.product_name,\n          product_unit: product.product_unit,\n          product_stand: product.product_stand,\n          process_group_code: product.process_group_code || \"\",\n          plan_qty: product.remain_qty || product.order_qty,\n          selected: false,\n        });\n      });\n    }\n  } catch (err) {\n    console.error(\"주문 제품 정보 조회 오류:\", err);\n    alert(\"주문 제품 정보를 불러오는데 실패했습니다.\");\n  }\n};\n\n// 계획 선택 (불러오기)\nconst selectPlan = async (plan) => {\n  try {\n    console.log(\"선택된 계획:\", plan);\n\n    const res = await axios.get(`/prodPlan/${plan.plan_id}`);\n    console.log(\"서버 응답:\", res.data);\n\n    if (res.data && res.data.master) {\n      const { master, products } = res.data;\n\n      // 날짜 포맷팅 함수\n      const formatDate = (dateString) => {\n        if (!dateString) return \"\";\n        const date = new Date(dateString);\n        return date.toISOString().split(\"T\")[0];\n      };\n\n      // 폼에 계획 정보 설정\n      form.value = {\n        plan_id: master.plan_id || \"\",\n        plan_name: master.plan_name || \"\",\n        order_id: master.order_id || \"\",\n        employee_name: master.employee_name || \"\", // 저장된 사원명 불러오기\n        writer_name: master.employee_name || \"\", // 화면 표시용\n        plan_reg_dt: formatDate(master.plan_reg_dt),\n        plan_start_dt: formatDate(master.plan_start_dt),\n        plan_end_dt: formatDate(master.plan_end_dt),\n        plan_remark: master.plan_remark || \"\",\n        products: (products || []).map((product, index) => ({\n          product_code: product.product_code || \"\",\n          product_name: product.product_name || \"\",\n          product_unit: product.product_unit || \"\",\n          product_stand: product.product_stand || \"\",\n          process_group_code: product.process_group_code || \"\",\n          plan_qty: product.plan_qty || null,\n          selected: false,\n        })),\n      };\n\n      console.log(\"설정된 폼 데이터:\", form.value);\n      console.log(\"불러온 제품 목록:\", form.value.products);\n\n      // 수정 모드로 설정\n      isEditMode.value = true;\n    } else {\n      console.error(\"서버 응답에 master 정보가 없습니다:\", res.data);\n      alert(\"생산계획 정보가 올바르지 않습니다.\");\n    }\n\n    showPlanModal.value = false;\n  } catch (err) {\n    console.error(\"생산계획 불러오기 오류:\", err);\n    alert(\"생산계획 정보를 불러오는데 실패했습니다.\");\n  }\n};\n\n// 제품 추가\nconst addProduct = (product) => {\n  if (!checkProductionPermission(\"제품 추가\")) return;\n\n  // 이미 추가된 제품인지 확인\n  const existingProduct = form.value.products.find(\n    (p) => p.product_code === product.product_code,\n  );\n  if (existingProduct) {\n    return; // 중복 제품은 조용히 무시\n  }\n\n  const newProduct = {\n    product_code: product.product_code,\n    product_name: product.product_name,\n    product_unit: product.product_unit,\n    product_stand: product.product_stand,\n    process_group_code: product.process_group_code || \"\",\n    plan_qty: null,\n    selected: false,\n  };\n\n  form.value.products.push(newProduct);\n  showProductModal.value = false;\n};\n\n// 제품 제거\nconst removeSelectedProducts = () => {\n  if (!checkProductionPermission(\"제품 제거\")) return;\n\n  const selectedProducts = form.value.products.filter(\n    (product) => product.selected,\n  );\n\n  if (selectedProducts.length === 0) {\n    return; // 선택된 제품이 없으면 조용히 무시\n  }\n\n  form.value.products = form.value.products.filter(\n    (product) => !product.selected,\n  );\n};\n\n// 생산계획 저장\nconst savePlan = async () => {\n  if (!checkProductionPermission(\"생산계획 저장\")) return;\n\n  if (!canSave.value) {\n    alert(\"계획명, 작성자, 시작일, 종료일, 제품을 모두 입력해주세요.\");\n    return;\n  }\n\n  try {\n    const payload = {\n      master: {\n        // plan_id는 신규 등록 시 서버에서 자동 생성하므로 수정 모드일 때만 포함\n        ...(isEditMode.value &&\n          form.value.plan_id && { plan_id: form.value.plan_id }),\n        plan_name: form.value.plan_name,\n        order_id: form.value.order_id || null,\n        employee_name:\n          form.value.employee_name || authStore.user?.employee_name || \"\", // 로그인된 사용자명\n        plan_reg_dt: form.value.plan_reg_dt,\n        plan_start_dt: form.value.plan_start_dt,\n        plan_end_dt: form.value.plan_end_dt,\n        plan_remark: form.value.plan_remark || \"\",\n      },\n      products: form.value.products.map((product) => ({\n        product_code: product.product_code,\n        plan_qty: product.plan_qty || null,\n        process_group_code: product.process_group_code || \"\",\n      })),\n    };\n\n    console.log(\"전송할 payload:\", {\n      ...payload,\n      로그인사용자: authStore.user?.employee_name,\n      로그인ID: authStore.user?.employee_id,\n      작성자명: payload.master.employee_name,\n    });\n\n    let response;\n    if (isEditMode.value && form.value.plan_id) {\n      // 수정 시에는 기존 번호 사용\n      response = await axios.put(\"/prodPlan\", payload);\n      alert(\"생산계획 수정 완료\");\n    } else {\n      // 신규 등록 시에는 번호 제외 (서버에서 생성)\n      response = await axios.post(\"/prodPlan\", payload);\n      alert(\"생산계획 등록 완료\");\n\n      // 서버에서 생성된 번호를 폼에 설정\n      if (response.data && response.data.plan_id) {\n        form.value.plan_id = response.data.plan_id;\n        isEditMode.value = true;\n      }\n    }\n\n    console.log(\"서버 응답:\", response.data);\n  } catch (err) {\n    console.error(\"생산계획 저장 오류:\", err);\n\n    if (err.response) {\n      console.error(\"에러 상태:\", err.response.status);\n      console.error(\"에러 데이터:\", err.response.data);\n\n      if (err.response.data && err.response.data.error) {\n        alert(`저장 실패: ${err.response.data.error}`);\n      } else {\n        alert(\n          `저장 실패 (${err.response.status}): ${JSON.stringify(\n            err.response.data,\n          )}`,\n        );\n      }\n    } else {\n      alert(\"생산계획 저장에 실패했습니다.\");\n    }\n  }\n};\n\n// 폼 초기화\nconst resetForm = () => {\n  if (!checkProductionPermission(\"폼 초기화\")) return;\n\n  const today = new Date().toISOString().split(\"T\")[0];\n\n  form.value = {\n    plan_id: \"\",\n    plan_name: \"\",\n    order_id: \"\",\n    employee_name: authStore.user?.employee_name || \"\", // 로그인된 사용자명\n    writer_name: authStore.user?.employee_name || \"\", // 화면 표시용\n    plan_reg_dt: today,\n    plan_start_dt: \"\",\n    plan_end_dt: \"\",\n    plan_remark: \"\",\n    products: [],\n  };\n  isEditMode.value = false;\n\n  console.log(\"폼 초기화 - 작성자 정보:\", {\n    employee_name: form.value.employee_name,\n    writer_name: form.value.writer_name,\n    로그인사용자: authStore.user?.employee_name,\n  });\n};\n\n// 컴포넌트 마운트 시 로그인된 사용자 정보 설정\nonMounted(() => {\n  // 권한 체크 및 알림\n  if (!authStore.canManageProduction) {\n    alert(\"조회만 가능합니다. 생산 관리 권한이 없습니다.\");\n  }\n\n  const today = new Date().toISOString().split(\"T\")[0];\n  form.value.plan_reg_dt = today;\n  form.value.employee_name = authStore.user?.employee_name || \"\"; // 로그인된 사용자명\n  form.value.writer_name = authStore.user?.employee_name || \"\"; // 화면 표시용\n  form.value.plan_id = \"\";\n\n  console.log(\"초기화된 작성자 정보:\", {\n    employee_name: form.value.employee_name,\n    writer_name: form.value.writer_name,\n    loginUser: authStore.user?.employee_name,\n  });\n});\n</script>\n\n<style scoped>\ninput,\nselect {\n  transition: all 0.15s ease-in-out;\n}\n\ninput:focus,\nselect:focus {\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n::-webkit-scrollbar {\n  width: 6px;\n  height: 6px;\n}\n\n::-webkit-scrollbar-track {\n  background: #f8fafc;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n\nbutton {\n  transition: all 0.15s ease-in-out;\n}\n</style>\n"],"names":["searchTerm","ref","orderList","loading","searchOrders","response","axios","error","formatDate","dateString","formatNumber","number","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_cache","$emit","_hoisted_4","$event","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_Fragment","_renderList","order","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","searchResults","searchProducts","res","product","searchPlans","plan","authStore","useAuthStore","isEditMode","showProductModal","showOrderModal","showPlanModal","form","checkProductionPermission","action","hasSelectedProducts","computed","canSave","openProductModal","openOrderModal","openPlanModal","selectOrder","index","err","selectPlan","master","products","addProduct","p","newProduct","removeSelectedProducts","savePlan","payload","_a","_b","_c","resetForm","today","_unref","_vModelText","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_vModelCheckbox","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_30","_hoisted_31","_createBlock","PlanProductSearchModal","OrderSearchModal","ProdPlanSearchModal"],"mappings":"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"}